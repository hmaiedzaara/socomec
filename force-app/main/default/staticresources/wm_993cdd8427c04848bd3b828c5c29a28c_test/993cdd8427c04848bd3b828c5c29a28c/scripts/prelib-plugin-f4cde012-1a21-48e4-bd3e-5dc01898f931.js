!function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var c,p=[],f=!1,d=-1;function g(){if(!f||!c)return;f=!1,c.length?p=c.concat(p):d=-1,p.length&&m()}function m(){if(f)return;var e=l(g);f=!0;for(var t=p.length;t;){for(c=p,p=[];++d<t;)c&&c[d].run();d=-1,t=p.length}c=null,f=!1,u(e)}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new h(e,t)),1!==p.length||f||l(m)};function h(e,t){this.fun=e,this.array=t}h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function v(){}o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){!function(){function e(e,t){this._object=void 0,this._name=e,this._ctx=t,this.properties={strategy:a.defaults.strategy,factory:a.defaults.factory,injector:a.defaults.injector,load:a.defaults.load,wasReady:!1,initialize:!0}}e.prototype.name=function(){return this._name},e.prototype.asFactory=function(e,t){return void 0!=t&&this.type(t),this.factory(e),this},e.prototype.loadDependencies=function(e,t){return void 0!=t&&this.dependencies(t),this.load(e),this},e.prototype.asFunction=function(e){return this.asFactory(a.factory.func,e)},e.prototype.asInstance=function(e){return this.asFactory(a.factory.instance,e)},e.prototype.asCtor=function(e){return this.asFactory(a.factory.constructor,e)},e.prototype.asSingleton=function(){return this.strategy(a.strategy.singleton)},e.prototype.asProto=function(){return this.strategy(a.strategy.proto)},e.prototype.injectToCtor=function(){return this.injector(a.injector.ctor)},e.prototype.injectToReady=function(){return this.injector(a.injector.ready)},e.prototype.injectToProperty=function(){return this.injector(a.injector.property)},e.prototype.flatDependencies=function(e){return this.loadDependencies(a.load.flat,e)},e.prototype.recursiveDependencies=function(e){return this.loadDependencies(a.load.recursive,e)},e.prototype.useOnce=function(){var e=this.getObject;return this.getObject=function(){return this._ctx.map[this.name()]=null,e.apply(this,arguments)},this},e.prototype.depsDictionary=function(e){if(!arguments.length)return this.properties.depsDictionary||this.depsDictionary(this._ctx.resolve(this)),this.properties.depsDictionary;return this.properties.depsDictionary=e,this},e.prototype.create=function(e,t,n){n=n||a.load.recursive;var r=this.properties.strategy.test(this._object,n);if(t)return r;r&&(e=this.properties.injector.create(e?e:this.properties.args,this,this._ctx,n));var i=this.properties.strategy.create(this._object,this.properties.factory,this.properties.type,e,this._ctx,this,n);return this._ctx.ready(i,this)},e.prototype.getObject=function(e){return this.create(void 0,void 0,e)},e.prototype.object=function(e){return arguments.length?(this._object=e,this):this.create()};for(var n=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],r=0;r<n.length;r++){var i=n[r];o(i)}function o(t){e.prototype[t]=function(e){if(!arguments.length)return this.properties[t];return this.properties[t]=e,this}}var a=function(t){t=t||{},t.version="0.3.3";t.logger=function(e,t){},t.log=function(e,n,r){n&&(e="[class="+n.name()+"] "+e),t.logger("DI - "+e,r||4)},t.error=function(e,n,r){t.log(e,n,r)},t.createContext=function(){var e={map:{},decorators:{}};e.decorate=function(t,n){e.decorators[t]||(e.decorators[t]=[]),e.decorators[t].push(n)},e.entry=function(t){return e.map[t]},e.register=function(n,r,i){var o=t.entry(n,e).type(r).args(i);return e.map[n]=o,o},e.has=function(t){return null!=e.entry(t)},e.remove=function(t){if(e.has(t))return e.map[t]=null,!0;return!1},e.isEntryRemoved=function(t){return null===e.entry(t)},e.get=function(n,r){return e.isEntryRemoved(n)&&t.error("Object["+n+"] was removed"),e.has(n)||t.error("Object["+n+"] is not registered"),e.entry(n).getObject(r)},e.create=function(n,r){if(e.entry(n).strategy()==t.strategy.singleton&&t.error("Attempt to create singleton object ["+n+"]"),e.has(n))return e.entry(n).create(r);t.error("Object["+n+"] is not registered")},e.initialize=function(){function n(n){var r=e.entry(n);r?r.initialize()&&r.strategy().initialize()&&e.get(n):t.error("Object["+n+"] is not registered")}return function(t){if(t)n(t);else for(var t in e.map)n(t)}}(),e.clear=function(){this.map={},this.decorators={}};function n(e){for(;e.indexOf(" ")>=0;)e=e.replace(" ","");return e}return e.resolve=function(n){var r=n.load(),i={};return e.eachDependency(n.dependencies(),function(o,a){var s=e.get(o,r);e.ready(s,e.entry(o)),null==s&&t.error("Dependency ["+n.name()+"."+a+"]->["+o+"] can not be satisfied",n),i[a]=s}),i},e.eachDependency=function(e,r){if(e)for(var i=n(e).split(","),o=0;o<i.length;o++){var a=i[o];if(a){var s=t.dependencyExpression(a);try{r(s.name,s.property,o)}catch(l){t.error("An exception was thrown while the DI tried to resolve class '"+s.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+l.message)}}}},e.ready=function(t,n){if(null===n&&t)return t;var r=n.wasReady();if(n.wasReady(!0),!r){var i=e.createCallback();i&&i(n.name(),t),t&&"function"==typeof t.ready&&t!=window&&t!=window.document&&t!=window.document.body&&(n.wasReady(!0),t.ready.apply(t,n.injector().ready(t,n)||[]))}return t},e.createCallback=function(){var t;return function(n){if(0==arguments.length)return t;return t=n,e}}(),e},t.dependencyExpression=function(e){var t={},n=e,r=e;if(e.indexOf("=")>0){var i=e.split("=");n=i[0],r=i[1]}return t.name=r,t.property=n,t},t.entry=function(t,n){return new e(t,n)},t.strategy={proto:{test:function(e,t){return!t||t()},initialize:function(){return!1},create:function(e,t,r,i,o,a,s){return e=n(t,r,i,o,a),s()&&a.injector().ready(e,a),a.depsDictionary(void 0),a.wasReady(!1),e}},singleton:{test:function(e,t){return!e&&(!t||t())},initialize:function(){return!0},create:function(e,t,r,i,o,a,s){return e||(e=n(t,r,i,o,a),a.object(e),a.wasReady(!0),s()&&a.injector().ready(e,a),a.wasReady(!1)),e}}};function n(e,t,n,r,i){var o=e(t,n,i),a=r.decorators[i.name()];if(a)for(var s=0;s<a.length;s++)o=a[s](o);return o}return t.factory={constructor:function(e,n,r){if(!(n instanceof Array))return new e(n);if(n.length<=10)return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]);if(n.length<=30)return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29]);t.error("trying to create a class with too many args!",r)},func:function(e,t,n){return t instanceof Array?e.apply(e,t):e(t)},instance:function(e,t,n){return e}},t.injector={property:{create:function(e,t,n){return e},ready:function(e,t){var n=t.depsDictionary();for(var r in n)e[r]=n[r];var i=t.args();void 0==i||n.hasOwnProperty("args")||(e.args=i)}},ready:{create:function(e,t,n){return e},ready:function(e,t){var n=t.args(),r=[],i=t.depsDictionary();if(s.eachDependency(t.dependencies(),function(e,t,n){r[n]=i[t]}),n){n=n instanceof Array?n:[n];for(var o=0;o<n.length;o++)r.push(n[o])}return r}},ctor:{create:function(e,t,n){var r=[],i=t.depsDictionary();if(n.eachDependency(t.dependencies(),function(e,t,n){r[n]=i[t]}),e){e=e instanceof Array?e:[e];for(var o=0;o<e.length;o++)r.push(e[o])}return r},ready:function(e,t){}}},t.load={flat:function(e,t,n){return!1},recursive:function(e,t,n){return!0}},t.defaults={strategy:t.strategy.singleton,factory:t.factory.constructor,injector:t.injector.ctor,load:t.load.recursive},t}(),s=a.createContext();t.exports=function(e){e.di=a,e.ctx=s}}()},{}],3:[function(e,t,n){"use strict";var r,i,o="walkme_prelib_log_enabled",a=1e4,s=[],l={write:u,getCookieName:d,setCookieName:f,enableLog:g,disableLog:m,isLogEnabled:h,readCookie:y,writeCookie:w,getLogHistoryRecords:p};function u(){if(h()){var e=arguments;try{e.stack=(new Error).stack}catch(t){}c(e);var n=Array().slice.call(e);console.log.apply(console,n)}}function c(e){var t=new Date;e.timeElapsed=t-(i||t),i=t,s.unshift(e),s=s.splice(0,a)}function p(){return s}function f(e){o=e}function d(){return o}function g(){r=!0,w(o,!0)}function m(){r=!1,w(o,"",-1)}function h(){if("undefined"!=typeof r)return r;return v(),r}function v(){var e=window.console&&(y(o)||!1);r=e&&"true"==e.toString().toLowerCase()}function y(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():void 0}function w(e,t,n){var r,i="";n&&(r=new Date,r.setTime(r.getTime()+864e5*n),i="; expires="+r.toUTCString()),document.cookie=e+"="+t+i+"; path=/"}t.exports=l},{}],4:[function(e,t,n){(function(t,n){!function(){var r,i=e("wm-prelib-logger");function o(){return r}window._walkmeInternals=window._walkmeInternals||{},e("wm-di")(window._walkmeInternals);var a=window._walkmeInternals.ctx;!function(){var o={},s=function(){function e(e){this.promiseManager=e,this._plugins=[]}return e.prototype.register=function(e){this._plugins.push(e)},e.prototype.run=function(e){for(var t,n=this._plugins,r=[],i=0;i<n.length;i++)t=n[i].run(e),t&&r.push(t);return this.promiseManager.all(r)},e}();o.PluginsManager=s;/*!
 * @overview RSVP - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE
 * @version   3.1.0
 */
var l=o.promiseManager=function(){"use strict";function r(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}var a;a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var s=a,l=Date.now||function(){return(new Date).getTime()};function u(){}var c=Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return u.prototype=e,new u};function p(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function f(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}var d={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,t){if("function"!=typeof t)throw new TypeError("Callback must be a function");var n,r=f(this);n=r[e],n||(n=r[e]=[]),p(n,t)===-1&&n.push(t)},off:function(e,t){var n,r,i=f(this);if(!t)return void(i[e]=[]);n=i[e],r=p(n,t),r!==-1&&n.splice(r,1)},trigger:function(e,t,n){var r,i,o=f(this);if(r=o[e])for(var a=0;a<r.length;a++)(i=r[a])(t,n)}},g={instrument:!1};d.mixin(g);function m(e,t){if("onerror"===e)return void g.on("error",t);if(2!==arguments.length)return g[e];g[e]=t}var h=[];function v(){setTimeout(function(){for(var e,t=0;t<h.length;t++){e=h[t];var n=e.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),g.trigger(e.name,e.payload)}h.length=0},50)}function y(e,t,n){1===h.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:n&&n._id,label:t._label,timeStamp:l(),error:g["instrument-with-stack"]?new Error(t._label):null}})&&v()}var w=y;function b(){return new TypeError("A promises callback cannot return that same promise.")}function _(){}var E=void 0,S=1,C=2,x=new M;function A(e){try{return e.then}catch(t){return x.error=t,x}}function N(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function T(e,t,n){g.async(function(e){var r=!1,i=N(n,t,function(n){if(r)return;r=!0,t!==n?L(e,n):O(e,n)},function(t){if(r)return;r=!0,D(e,t)},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,D(e,i))},e)}function R(e,t){t._state===S?O(e,t._result):t._state===C?(t._onError=null,D(e,t._result)):P(t,void 0,function(n){t!==n?L(e,n):O(e,n)},function(t){D(e,t)})}function j(e,t){if(t.constructor===e.constructor)R(e,t);else{var n=A(t);n===x?D(e,x.error):void 0===n?O(e,t):i(n)?T(e,t,n):O(e,t)}}function L(e,t){e===t?O(e,t):r(t)?j(e,t):O(e,t)}function k(e){e._onError&&e._onError(e._result),I(e)}function O(e,t){if(e._state!==E)return;e._result=t,e._state=S,0===e._subscribers.length?g.instrument&&w("fulfilled",e):g.async(I,e)}function D(e,t){if(e._state!==E)return;e._state=C,e._result=t,g.async(k,e)}function P(e,t,n,r){var i=e._subscribers,o=i.length;e._onError=null,i[o]=t,i[o+S]=n,i[o+C]=r,0===o&&e._state&&g.async(I,e)}function I(e){var t=e._subscribers,n=e._state;if(g.instrument&&w(n===S?"fulfilled":"rejected",e),0===t.length)return;for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?X(n,r,i,o):i(o);e._subscribers.length=0}function M(){this.error=null}var U=new M;function V(e,t){try{return e(t)}catch(n){return U.error=n,U}}function X(e,t,n,r){var o,a,s,l,u=i(n);if(u){if(o=V(n,r),o===U?(l=!0,a=o.error,o=null):s=!0,t===o)return void D(t,b())}else o=r,s=!0;t._state!==E||(u&&s?L(t,o):l?D(t,a):e===S?O(t,o):e===C&&D(t,o))}function F(e,t){var n=!1;try{t(function(t){if(n)return;n=!0,L(e,t)},function(t){if(n)return;n=!0,D(e,t)})}catch(r){D(e,r)}}function B(e,t,n){return e===S?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function H(e,t,n,r){var i=this;i._instanceConstructor=e,i.promise=new e(_,r),i._abortOnReject=n,i._validateInput(t)?(i._input=t,i.length=t.length,i._remaining=t.length,i._init(),0===i.length?O(i.promise,i._result):(i.length=i.length||0,i._enumerate(),0===i._remaining&&O(i.promise,i._result))):D(i.promise,i._validationError())}var W=H;H.prototype._validateInput=function(e){return s(e)},H.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},H.prototype._init=function(){this._result=new Array(this.length)},H.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===E&&i<t;i++)e._eachEntry(r[i],i)},H.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;o(e)?e.constructor===r&&e._state!==E?(e._onError=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=n._makeResult(S,t,e))},H.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===E&&(r._remaining--,r._abortOnReject&&e===C?D(i,n):r._result[t]=r._makeResult(e,t,n)),0===r._remaining&&O(i,r._result)},H.prototype._makeResult=function(e,t,n){return n},H.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){n._settledAt(S,t,e)},function(e){n._settledAt(C,t,e)})};function q(e,t){return new W(this,e,(!0),t).promise}var Q=q;function G(e,t){var n=this,r=new n(_,t);if(!s(e))return D(r,new TypeError("You must pass an array to race.")),r;var i=e.length;function o(e){L(r,e)}function a(e){D(r,e)}for(var l=0;r._state===E&&l<i;l++)P(n.resolve(e[l]),void 0,o,a);return r}var z=G;function $(e,t){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var r=new n(_,t);return L(r,e),r}var Y=$;function J(e,t){var n=this,r=new n(_,t);return D(r,e),r}var K=J,Z="rsvp_"+l()+"-",ee=0;function te(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ne(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function re(e,t){var n=this;n._id=ee++,n._label=t,n._state=void 0,n._result=void 0,n._subscribers=[],g.instrument&&w("created",n),_!==e&&(i(e)||te(),n instanceof re||ne(),F(n,e))}var ie=re;re.cast=Y,re.all=Q,re.race=z,re.resolve=Y,re.reject=K,re.prototype={constructor:re,_guidKey:Z,_onError:function(e){var t=this;g.after(function(){t._onError&&g.trigger("error",e,t._label)})},then:function(e,t,n){var r=this,i=r._state;if(i===S&&!e||i===C&&!t)return g.instrument&&w("chained",r,r),r;r._onError=null;var o=new r.constructor(_,n),a=r._result;if(g.instrument&&w("chained",r,o),i){var s=arguments[i-1];g.async(function(){X(i,o,s,a)})}else P(r,o,e,t);return o},"catch":function(e,t){return this.then(void 0,e,t)},"finally":function(e,t){var n=this,r=n.constructor;return n.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})},t)}};function oe(e,t,n){this._superConstructor(e,t,!1,n)}oe.prototype=c(W.prototype),oe.prototype._superConstructor=W,oe.prototype._makeResult=B,oe.prototype._validationError=function(){return new Error("allSettled must be called with an array")};function ae(e,t){return new oe(ie,e,t).promise}var se=ae;function le(e,t){return ie.all(e,t)}var ue,ce=le,pe=0;({}).toString;function fe(e,t){Ce[pe]=e,Ce[pe+1]=t,pe+=2,2===pe&&Ne()}var de=fe,ge="undefined"!=typeof window?window:void 0,me=ge||{},he=me.MutationObserver||me.WebKitMutationObserver,ve="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),ye="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function we(){var e=t.nextTick,n=t.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(e=setImmediate),function(){e(xe)}}function be(){return function(){ue(xe)}}function _e(){var e=0,t=new he(xe),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function Ee(){var e=new MessageChannel;return e.port1.onmessage=xe,function(){e.port2.postMessage(0)}}function Se(){return function(){setTimeout(xe,1)}}var Ce=new Array(1e3);function xe(){for(var e=0;e<pe;e+=2){var t=Ce[e],n=Ce[e+1];t(n),Ce[e]=void 0,Ce[e+1]=void 0}pe=0}function Ae(){try{var t=e,n=t("vertx");return ue=n.runOnLoop||n.runOnContext,be()}catch(r){return Se()}}var Ne;Ne=ve?we():he?_e():ye?Ee():void 0===ge&&"function"==typeof e?Ae():Se();function Te(e){var t={};return t.promise=new ie(function(e,n){t.resolve=e,t.reject=n},e),t}var Re=Te;function je(e,t,n){return ie.all(e,n).then(function(e){if(!i(t))throw new TypeError("You must pass a function as filter's second argument.");for(var r=e.length,o=new Array(r),a=0;a<r;a++)o[a]=t(e[a]);return ie.all(o,n).then(function(t){for(var n=new Array(r),i=0,o=0;o<r;o++)t[o]&&(n[i]=e[o],i++);return n.length=i,n})})}var Le=je;function ke(e,t,n){this._superConstructor(e,t,!0,n)}var Oe=ke;ke.prototype=c(W.prototype),ke.prototype._superConstructor=W,ke.prototype._init=function(){this._result={}},ke.prototype._validateInput=function(e){return e&&"object"==typeof e},ke.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},ke.prototype._enumerate=function(){var e=this,t=e.promise,n=e._input,r=[];for(var i in n)t._state===E&&Object.prototype.hasOwnProperty.call(n,i)&&r.push({position:i,entry:n[i]});var o=r.length;e._remaining=o;for(var a,s=0;t._state===E&&s<o;s++)a=r[s],e._eachEntry(a.entry,a.position)};function De(e,t,n){this._superConstructor(e,t,!1,n)}De.prototype=c(Oe.prototype),De.prototype._superConstructor=W,De.prototype._makeResult=B,De.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};function Pe(e,t){return new De(ie,e,t).promise}var Ie=Pe;function Me(e,t){return new Oe(ie,e,t).promise}var Ue=Me;function Ve(e,t,n){return ie.all(e,n).then(function(e){if(!i(t))throw new TypeError("You must pass a function as map's second argument.");for(var r=e.length,o=new Array(r),a=0;a<r;a++)o[a]=t(e[a]);return ie.all(o,n)})}var Xe=Ve;function Fe(){this.value=void 0}var Be=new Fe,He=new Fe;function We(e){try{return e.then}catch(t){return Be.value=t,Be}}function qe(e,t,n){try{e.apply(t,n)}catch(r){return Be.value=r,Be}}function Qe(e,t){for(var n,r,i={},o=e.length,a=new Array(o),s=0;s<o;s++)a[s]=e[s];for(r=0;r<t.length;r++)n=t[r],i[n]=a[r+1];return i}function Ge(e){for(var t=e.length,n=new Array(t-1),r=1;r<t;r++)n[r-1]=e[r];return n}function ze(e,t){return{then:function(n,r){return e.call(t,n,r)}}}function $e(e,t){var n=function(){for(var n,r=this,i=arguments.length,o=new Array(i+1),a=!1,l=0;l<i;++l){if(n=arguments[l],!a){if(a=Ze(n),a===He){var u=new ie(_);return D(u,He.value),u}a&&a!==!0&&(n=ze(a,n))}o[l]=n}var c=new ie(_);return o[i]=function(e,n){e?D(c,e):void 0===t?L(c,n):t===!0?L(c,Ge(arguments)):s(t)?L(c,Qe(arguments,t)):L(c,n)},a?Ke(c,o,e,r):Je(c,o,e,r)};return n.__proto__=e,n}var Ye=$e;function Je(e,t,n,r){var i=qe(n,r,t);return i===Be&&D(e,i.value),e}function Ke(e,t,n,r){return ie.all(t).then(function(t){var i=qe(n,r,t);return i===Be&&D(e,i.value),e})}function Ze(e){return!(!e||"object"!=typeof e)&&(e.constructor===ie||We(e))}var et;if("object"==typeof self)et=self;else{if("object"!=typeof n)throw new Error("no global: `self` or `global` found");et=n}function tt(e,t){return ie.race(e,t)}var nt=tt;function rt(e,t){return ie.reject(e,t)}var it=rt;function ot(e,t){return ie.resolve(e,t)}var at=ot;function st(e){throw setTimeout(function(){throw e}),e}var lt=st;g.async=de,g.after=function(e){setTimeout(e,0)};function ut(e,t){g.async(e,t)}function ct(){g.on.apply(g,arguments)}function pt(){g.off.apply(g,arguments)}if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var ft=window.__PROMISE_INSTRUMENTATION__;m("instrument",!0);for(var dt in ft)ft.hasOwnProperty(dt)&&ct(dt,ft[dt])}var gt={race:nt,Promise:ie,allSettled:se,hash:Ue,hashSettled:Ie,denodeify:Ye,on:ct,off:pt,map:Xe,filter:Le,resolve:at,reject:it,all:ce,rethrow:lt,defer:Re,EventTarget:d,configure:m,async:ut};return gt}(),u=function(){function e(e,t){this._eventsBase=e,this._promiseManager=t}return e.prototype.async=function(e,t,n,r){var i;try{i=this._eventsBase.triggerHandler(e,t)}catch(o){r&&r()}this._promiseManager.Promise.resolve(i).then(n,r)},e.prototype.sync=function(e,t,n){var r=t&&t.asyncCallback;r&&(t.__asyncResults=[]);var i=this._eventsBase.triggerHandler(e,t);if(r&&(i=this._promiseManager.all(t.__asyncResults).then(function(e){return e[e.length-1]})),void 0==i)return n;return i},e}();o.EventsTrigger=u;var c=function(){function e(e){this._eventsBase=e}return e.prototype.on=function(e,t){var n=p(t);this._eventsBase.on(e,n)},e.prototype.once=function(e,t){var n=p(t);this._eventsBase.one(e,n)},e.prototype.off=function(e,t){var n=d(t);this._eventsBase.off(e,n)},e}();o.EventsListener=c;function p(e){return e.__wmEventWrapped||(e.__wmEventWrapped=f(e)),e.__wmEventWrapped}function f(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=e.apply(this,t),i=(t[0],t[1]);return i&&i.__asyncResults&&i.__asyncResults.push(r),r}}function d(e){return e&&e.__wmEventWrapped||e}var g=function(){function e(e,t,n){this.PluginsManager=t,this._configs=new this.PluginsManager(n),this._plugins=new this.PluginsManager(n),this.ctx=e.ctx,this.di=e.di}return e.prototype.config=function(e){this._configs.register(e)},e.prototype.plugin=function(e){this._plugins.register(e)},e.prototype.start=function(e){var t=this._configs,n=this._plugins,r=t.run(e);return r.then(function(){return n.run(e)}).then(this.callWalkmePreLibLoaded)["catch"](this.logError),r},e.prototype.callWalkmePreLibLoaded=function(){window.walkme_pre_lib_loaded&&window.walkme_pre_lib_loaded()},e.prototype.logError=function(e){r.ctx.has("PrelibLogger")&&r.ctx.get("PrelibLogger").write("Prelib encountered an error while loading: "+e+"\nDetails:\n"+e.stack)},e}();o.LegoDI=g,a.register("PromiseManager").asInstance(l),a.register("Promise").asCtor(l.Promise).asProto(),r=new g(window._walkmeInternals,s,l);var m=wmjQuery({}),h=new u(m,l),v=new c(m);window._walkmeInternals.events={listener:v,trigger:h,_eventsBase:m},r.ctx.register("EventsTrigger").asInstance(h),r.ctx.register("EventsListener").asInstance(v),r.ctx.register("PrelibLogger").asInstance(i)}(),e("wm-plugin-language-by-salesforce-language-no-underscore")(o),e("wm-plugin-lightning-spa")(o),e("wm-plugin-salesforce-find-element-adapter")(o),e("wm-plugin-salesforce-lightning-find-element")(o),e("wm-plugin-sf-lightning-init-user-context")(o),e("wm-plugin-sf-lightning-modal-find-element")(o),e("wm-plugin-sf-vars")(o);var s=function(){var e,t=window.wmSnippet||window.wmPlaySnippet||window.wmPreviewSnippet;return t&&(e=t.getSettingsFile()),e||(e={}),e}();r.start(s)}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1,"wm-di":2,"wm-plugin-language-by-salesforce-language-no-underscore":78,"wm-plugin-lightning-spa":81,"wm-plugin-salesforce-find-element-adapter":84,"wm-plugin-salesforce-lightning-find-element":106,"wm-plugin-sf-lightning-init-user-context":114,"wm-plugin-sf-lightning-modal-find-element":118,"wm-plugin-sf-vars":138,"wm-prelib-logger":3}],5:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":10}],6:[function(e,t,n){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":11}],7:[function(e,t,n){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":12}],8:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../core-js/object/assign"),i=o(r);function o(e){return e&&e.__esModule?e:{"default":e}}n["default"]=i["default"]||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},{"../core-js/object/assign":5}],9:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../core-js/symbol/iterator"),i=l(r),o=e("../core-js/symbol"),a=l(o),s="function"==typeof a["default"]&&"symbol"==typeof i["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]&&e!==a["default"].prototype?"symbol":typeof e};function l(e){return e&&e.__esModule?e:{"default":e}}n["default"]="function"==typeof a["default"]&&"symbol"===s(i["default"])?function(e){return"undefined"==typeof e?"undefined":s(e)}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]&&e!==a["default"].prototype?"symbol":"undefined"==typeof e?"undefined":s(e)}},{"../core-js/symbol":6,"../core-js/symbol/iterator":7}],10:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":18,"../../modules/es6.object.assign":70}],11:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":18,"../../modules/es6.object.to-string":71,"../../modules/es6.symbol":73,"../../modules/es7.symbol.async-iterator":74,"../../modules/es7.symbol.observable":75}],12:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":67,"../../modules/es6.string.iterator":72,"../../modules/web.dom.iterable":76}],13:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],14:[function(e,t,n){t.exports=function(){}},{}],15:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":34}],16:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_to-length"),o=e("./_to-absolute-index");t.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},{"./_to-absolute-index":59,"./_to-iobject":61,"./_to-length":62}],17:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],18:[function(e,t,n){var r=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},{}],19:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":13}],20:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],21:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":26}],22:[function(e,t,n){var r=e("./_is-object"),i=e("./_global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_global":27,"./_is-object":34}],23:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],24:[function(e,t,n){var r=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie");t.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},{"./_object-gops":48,"./_object-keys":51,"./_object-pie":52}],25:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_ctx"),a=e("./_hide"),s="prototype",l=function(e,t,n){var u,c,p,f=e&l.F,d=e&l.G,g=e&l.S,m=e&l.P,h=e&l.B,v=e&l.W,y=d?i:i[t]||(i[t]={}),w=y[s],b=d?r:g?r[t]:(r[t]||{})[s];d&&(n=t);for(u in n){if(c=!f&&b&&void 0!==b[u],c&&u in y)continue;p=c?b[u]:n[u],y[u]=d&&"function"!=typeof b[u]?n[u]:h&&c?o(p,r):v&&b[u]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(p):m&&"function"==typeof p?o(Function.call,p):p,m&&((y.virtual||(y.virtual={}))[u]=p,e&l.R&&w&&!w[u]&&a(w,u,p))}};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":18,"./_ctx":19,"./_global":27,"./_hide":29}],26:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],27:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],28:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],29:[function(e,t,n){var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":21,"./_object-dp":43,"./_property-desc":53}],30:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":27}],31:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":21,"./_dom-create":22,"./_fails":26}],32:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":17}],33:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":17}],34:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],35:[function(e,t,n){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{"./_hide":29,"./_object-create":42,"./_property-desc":53,"./_set-to-string-tag":55,"./_wks":68}],36:[function(e,t,n){"use strict";var r=e("./_library"),i=e("./_export"),o=e("./_redefine"),a=e("./_hide"),s=e("./_has"),l=e("./_iterators"),u=e("./_iter-create"),c=e("./_set-to-string-tag"),p=e("./_object-gpo"),f=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),g="@@iterator",m="keys",h="values",v=function(){return this};t.exports=function(e,t,n,y,w,b,_){u(n,t,y);var E,S,C,x=function(e){if(!d&&e in R)return R[e];switch(e){case m:return function(){return new n(this,e)};case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},A=t+" Iterator",N=w==h,T=!1,R=e.prototype,j=R[f]||R[g]||w&&R[w],L=!d&&j||x(w),k=w?N?x("entries"):L:void 0,O="Array"==t?R.entries||j:j;if(O&&(C=p(O.call(new e)),C!==Object.prototype&&C.next&&(c(C,A,!0),r||s(C,f)||a(C,f,v))),N&&j&&j.name!==h&&(T=!0,L=function(){return j.call(this)}),r&&!_||!d&&!T&&R[f]||a(R,f,L),l[t]=L,l[A]=v,w)if(E={values:N?L:x(h),keys:b?L:x(m),entries:k},_)for(S in E)S in R||o(R,S,E[S]);else i(i.P+i.F*(d||T),t,E);return E}},{"./_export":25,"./_has":28,"./_hide":29,"./_iter-create":35,"./_iterators":38,"./_library":39,"./_object-gpo":49,"./_redefine":54,"./_set-to-string-tag":55,"./_wks":68}],37:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],38:[function(e,t,n){t.exports={}},{}],39:[function(e,t,n){t.exports=!0},{}],40:[function(e,t,n){var r=e("./_uid")("meta"),i=e("./_is-object"),o=e("./_has"),a=e("./_object-dp").f,s=0,l=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},p=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},d=function(e){return u&&g.NEED&&l(e)&&!o(e,r)&&c(e),e},g=t.exports={KEY:r,NEED:!1,fastKey:p,getWeak:f,onFreeze:d}},{"./_fails":26,"./_has":28,"./_is-object":34,"./_object-dp":43,"./_uid":65}],41:[function(e,t,n){"use strict";var r=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie"),a=e("./_to-object"),s=e("./_iobject"),l=Object.assign;t.exports=!l||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=i.f,p=o.f;l>u;)for(var f,d=s(arguments[u++]),g=c?r(d).concat(c(d)):r(d),m=g.length,h=0;m>h;)p.call(d,f=g[h++])&&(n[f]=d[f]);return n}:l},{"./_fails":26,"./_iobject":32,"./_object-gops":48,"./_object-keys":51,"./_object-pie":52,"./_to-object":63}],42:[function(e,t,n){var r=e("./_an-object"),i=e("./_object-dps"),o=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},l="prototype",u=function(){var t,n=e("./_dom-create")("iframe"),r=o.length,i="<",a=">";for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),u=t.F;r--;)delete u[l][o[r]];return u()};t.exports=Object.create||function(e,t){var n;return null!==e?(s[l]=r(e),n=new s,s[l]=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},{"./_an-object":15,"./_dom-create":22,"./_enum-bug-keys":23,"./_html":30,"./_object-dps":44,"./_shared-key":56}],43:[function(e,t,n){var r=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":15,"./_descriptors":21,"./_ie8-dom-define":31,"./_to-primitive":64}],44:[function(e,t,n){var r=e("./_object-dp"),i=e("./_an-object"),o=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},{"./_an-object":15,"./_descriptors":21,"./_object-dp":43,"./_object-keys":51}],45:[function(e,t,n){var r=e("./_object-pie"),i=e("./_property-desc"),o=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),l=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},{"./_descriptors":21,"./_has":28,"./_ie8-dom-define":31,"./_object-pie":52,"./_property-desc":53,"./_to-iobject":61,"./_to-primitive":64}],46:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_object-gopn").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};t.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},{"./_object-gopn":47,"./_to-iobject":61}],47:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{"./_enum-bug-keys":23,"./_object-keys-internal":50}],48:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],49:[function(e,t,n){var r=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){if(e=i(e),r(e,o))return e[o];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?a:null}},{"./_has":28,"./_shared-key":56,"./_to-object":63}],50:[function(e,t,n){var r=e("./_has"),i=e("./_to-iobject"),o=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},{"./_array-includes":16,"./_has":28,"./_shared-key":56,"./_to-iobject":61}],51:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_enum-bug-keys":23,"./_object-keys-internal":50}],52:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],53:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],54:[function(e,t,n){t.exports=e("./_hide")},{"./_hide":29}],55:[function(e,t,n){var r=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./_has":28,"./_object-dp":43,"./_wks":68}],56:[function(e,t,n){var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":57,"./_uid":65}],57:[function(e,t,n){var r=e("./_global"),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./_global":27}],58:[function(e,t,n){var r=e("./_to-integer"),i=e("./_defined");t.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;if(l<0||l>=u)return e?"":void 0;return o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):(o-55296<<10)+(a-56320)+65536}}},{"./_defined":20,"./_to-integer":60}],59:[function(e,t,n){var r=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},{"./_to-integer":60}],60:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],61:[function(e,t,n){var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_defined":20,"./_iobject":32}],62:[function(e,t,n){var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./_to-integer":60}],63:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":20}],64:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":34}],65:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],66:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":18,"./_global":27,"./_library":39,"./_object-dp":43,"./_wks-ext":67}],67:[function(e,t,n){n.f=e("./_wks")},{"./_wks":68}],68:[function(e,t,n){var r=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o,s=t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))};s.store=r},{"./_global":27,"./_shared":57,"./_uid":65}],69:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;if(!e||n>=e.length)return this._t=void 0,i(1);if("keys"==t)return i(0,n);if("values"==t)return i(0,e[n]);return i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":14,"./_iter-define":36,"./_iter-step":37,"./_iterators":38,"./_to-iobject":61}],70:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":25,"./_object-assign":41}],71:[function(e,t,n){},{}],72:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;if(n>=t.length)return{value:void 0,done:!0};return e=r(t,n),this._i+=e.length,{value:e,done:!1}})},{"./_iter-define":36,"./_string-at":58}],73:[function(e,t,n){"use strict";
var r=e("./_global"),i=e("./_has"),o=e("./_descriptors"),a=e("./_export"),s=e("./_redefine"),l=e("./_meta").KEY,u=e("./_fails"),c=e("./_shared"),p=e("./_set-to-string-tag"),f=e("./_uid"),d=e("./_wks"),g=e("./_wks-ext"),m=e("./_wks-define"),h=e("./_enum-keys"),v=e("./_is-array"),y=e("./_an-object"),w=e("./_is-object"),b=e("./_to-iobject"),_=e("./_to-primitive"),E=e("./_property-desc"),S=e("./_object-create"),C=e("./_object-gopn-ext"),x=e("./_object-gopd"),A=e("./_object-dp"),N=e("./_object-keys"),T=x.f,R=A.f,j=C.f,L=r.Symbol,k=r.JSON,O=k&&k.stringify,D="prototype",P=d("_hidden"),I=d("toPrimitive"),M={}.propertyIsEnumerable,U=c("symbol-registry"),V=c("symbols"),X=c("op-symbols"),F=Object[D],B="function"==typeof L,H=r.QObject,W=!H||!H[D]||!H[D].findChild,q=o&&u(function(){return 7!=S(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(F,t);r&&delete F[t],R(e,t,n),r&&e!==F&&R(F,t,r)}:R,Q=function(e){var t=V[e]=S(L[D]);return t._k=e,t},G=B&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L},z=function(e,t,n){if(e===F&&z(X,t,n),y(e),t=_(t,!0),y(n),i(V,t))return n.enumerable?(i(e,P)&&e[P][t]&&(e[P][t]=!1),n=S(n,{enumerable:E(0,!1)})):(i(e,P)||R(e,P,E(1,{})),e[P][t]=!0),q(e,t,n);return R(e,t,n)},$=function(e,t){y(e);for(var n,r=h(t=b(t)),i=0,o=r.length;o>i;)z(e,n=r[i++],t[n]);return e},Y=function(e,t){return void 0===t?S(e):$(S(e),t)},J=function(e){var t=M.call(this,e=_(e,!0));if(this===F&&i(V,e)&&!i(X,e))return!1;return!(t||!i(this,e)||!i(V,e)||i(this,P)&&this[P][e])||t},K=function(e,t){if(e=b(e),t=_(t,!0),e===F&&i(V,t)&&!i(X,t))return;var n=T(e,t);return!n||!i(V,t)||i(e,P)&&e[P][t]||(n.enumerable=!0),n},Z=function(e){for(var t,n=j(b(e)),r=[],o=0;n.length>o;)i(V,t=n[o++])||t==P||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===F,r=j(n?X:b(e)),o=[],a=0;r.length>a;)!i(V,t=r[a++])||n&&!i(F,t)||o.push(V[t]);return o};B||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(X,n),i(this,P)&&i(this[P],e)&&(this[P][e]=!1),q(this,e,E(1,n))};return o&&W&&q(F,e,{configurable:!0,set:t}),Q(e)},s(L[D],"toString",function(){return this._k}),x.f=K,A.f=z,e("./_object-gopn").f=C.f=Z,e("./_object-pie").f=J,e("./_object-gops").f=ee,o&&!e("./_library")&&s(F,"propertyIsEnumerable",J,!0),g.f=function(e){return Q(d(e))}),a(a.G+a.W+a.F*!B,{Symbol:L});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=N(d.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!B,"Symbol",{"for":function(e){return i(U,e+="")?U[e]:U[e]=L(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!B,"Object",{create:Y,defineProperty:z,defineProperties:$,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),k&&a(a.S+a.F*(!B||u(function(){var e=L();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],!w(t)&&void 0===e||G(e))return;return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,O.apply(k,r)}}),L[D][I]||e("./_hide")(L[D],I,L[D].valueOf),p(L,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},{"./_an-object":15,"./_descriptors":21,"./_enum-keys":24,"./_export":25,"./_fails":26,"./_global":27,"./_has":28,"./_hide":29,"./_is-array":33,"./_is-object":34,"./_library":39,"./_meta":40,"./_object-create":42,"./_object-dp":43,"./_object-gopd":45,"./_object-gopn":47,"./_object-gopn-ext":46,"./_object-gops":48,"./_object-keys":51,"./_object-pie":52,"./_property-desc":53,"./_redefine":54,"./_set-to-string-tag":55,"./_shared":57,"./_to-iobject":61,"./_to-primitive":64,"./_uid":65,"./_wks":68,"./_wks-define":66,"./_wks-ext":67}],74:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":66}],75:[function(e,t,n){e("./_wks-define")("observable")},{"./_wks-define":66}],76:[function(e,t,n){e("./es6.array.iterator");for(var r=e("./_global"),i=e("./_hide"),o=e("./_iterators"),a=e("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],p=c&&c.prototype;p&&!p[a]&&i(p,a,u),o[u]=o.Array}},{"./_global":27,"./_hide":29,"./_iterators":38,"./_wks":68,"./es6.array.iterator":69}],77:[function(e,t,n){var r,i=function(){function e(e){var t=this;this._ctx=e,this._messageQueue=[],this._eventsListener=e.get("EventsListener"),this._eventsListener.on("DataLoadedEvent",function(){t._eventSenderErrorLogger||(t._eventSenderErrorLogger=t._ctx.get("EventSenderErrorLogger"),t.emptyQueue())})}return e.prototype.sendLog=function(e,t){if(!e)return;if(!this._eventSenderErrorLogger)return void this.pushToQueue(e,t);this._eventSenderErrorLogger.logError(e,t)},e.prototype.pushToQueue=function(e,t){this._messageQueue.push({message:e,extraData:t})},e.prototype.emptyQueue=function(){for(var e=0;e<this._messageQueue.length;e++)this._eventSenderErrorLogger.logError(this._messageQueue[e].message,this._messageQueue[e].extraData);this._messageQueue=null},e}();t.exports=function(e){return r?r:r=new i(e)}},{}],78:[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=n:e.languageBySalesforceLanguageNoUnderscorePlugin=n}(this,function(e){var t=e(),n=(t.ctx,t.di,function(){function e(){this._promiseManager=t.ctx.get("PromiseManager"),this._eventsListener=t.ctx.get("EventsListener"),this._eventsTrigger=t.ctx.get("EventsTrigger"),this._logger=t.ctx.get("PrelibLogger")}return e.prototype.run=function(){return window.walkme_get_language=function(){var e="";if(window.UserContext&&window.UserContext.language){var t=window.UserContext.language;return t.replace(/_/g,"-")}return e},null},e}());t.plugin(new n)})},{}],79:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("./logger").log;function o(){var e=this;e.run=l;var t,n,o,a="aura:doneRendering";function s(){t=r().get("PromiseManager"),n=r().get("EventsListener"),o=r().get("EventsTrigger")}function l(){return i("Initializing Lightning SPA"),n.on("WalkMeReady",u),null}function u(){var e=r().get("ObjectJpath").getValue(window,"$A.root.addEventHandler");if(!e)return void i('Error: Evaluating "window.$A.root.addEventHandler" returned empty. Lightning SPA stopped.');e.apply(window.$A.root,[a,c]),n.on("removeWalkMe",function(){window.$A.root.removeEventHandler(a,c)}),i("Lightning SPA initialized and listening to rendering events")}function c(e){try{i("Rendering ended. Trying to trigger a throttled UIChange.",e),r().get("UIChangeTracker").triggerThrottledUIChange()}catch(t){i("An error happened when triggring a UIChange",t)}}s()}n.LightningSPA=o},{"./logger":80,"wm-prelib-plugin-entry-manager":140}],80:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=r().get("PrelibLogger");function o(){var e=Array().slice.call(arguments);e.unshift("[ LightningSPA ]"),i.write.apply(i,e)}n.log=o},{"wm-prelib-plugin-entry-manager":140}],81:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./lightningSPA.js").LightningSPA;t(new n)})},{"./lightningSPA.js":79,"wm-prelib-plugin-entry-manager":140}],82:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n){var i,o,a,s,l,u="NavBarConverter ";function c(){l=r().get("PrelibLogger")}this.match=function(e){var n=e.ElementDescription.elementXpath;return null!=n.match(t.NAV_BAR_XPATH)},this.process=function(r){var l=r.ElementDescription.elementXpath;m(l);var c=f(l),d=n.isNewNavBar();!c&&d?(e.writeToLog(u,"Detected a capture from an old version in a new version, converting..."),p(r,i,o,t.NEW_NAV_BAR_APP_SELECTOR)):c&&!d&&(e.writeToLog(u,"Detected a capture from a new version in an old version, converting..."),p(r,a,s,t.HEADER_SELECTOR))};function p(e,t,r,i){var o=d(e,t);o&&(n.convertAllSelectors(e,i,u),g(e,r))}function f(e){return null!=e.match(t.NEW_NAV_BAR_XPATH)}function d(t,n){var r=t.ElementDescription.elementXpath;e.writeToLog(u,"Original xpath: "+r);for(var i=!1,o=0;o<n.length;o++){var a=n[o],s=a.originalXpath.exec(r);s&&(i=!0,r=r.slice(0,s.index)+r.substring(s.index).replace(s[1],a.convertedXpath))}return t.ElementDescription.elementXpath=r,e.writeToLog(u,"Converted xpath: "+r),i}function g(t,n){if(e.writeToLog(u,"Converting classes..."),t.ElementDescription.elementClass)for(var r=0;r<n.length;r++){var i=n[r];null!=t.ElementDescription.elementClass.match(i.originalClass)&&(t.ElementDescription.elementClass=t.ElementDescription.elementClass.replace(i.originalClass,i.convertedClass),e.writeToLog(u,"converted "+i.originalClass+" class to "+i.convertedClass+" class"))}}function m(e){y(e),v(),h()}function h(){if(!a){var e="li["+w(t.OLD_NAV_BAR_LIST_SELECTOR)+"]/div[1]/div[2]/div[1]/ul[1]",n="li["+w(t.OLD_NAV_BAR_LIST_SELECTOR)+"]/div[1]/div[1]/div[1]/div[1]/a[1]";a=[{originalXpath:t.NEW_NAV_BAR_APP_REGEX,convertedXpath:t.OLD_NAV_BAR_APP},{originalXpath:t.NEW_NAV_BAR_REGEX,convertedXpath:t.OLD_NAV_BAR},{originalXpath:t.NEW_NAV_BAR_ITEM_REGEX,convertedXpath:t.OLD_NAV_BAR_ITEM},{originalXpath:t.NEW_NAV_BAR_DROPDOWN_ARROW_REGEX,convertedXpath:t.OLD_NAV_BAR_DROPDOWN_ARROW},{originalXpath:t.NEW_MORE_BUTTON_MENU_REGEX,convertedXpath:e},{originalXpath:t.NEW_MORE_BUTTON_REGEX,convertedXpath:n},{originalXpath:t.NEW_MORE_BUTTON_MENU_ITEM_REGEX,convertedXpath:t.OLD_MORE_BUTTON_MENU_ITEM},{originalXpath:t.NEW_NAV_BAR_DROPDOWN_ITEM_REGEX,convertedXpath:t.OLD_NAV_BAR_DROPDOWN_ITEM},{originalXpath:t.NEW_APP_LAUNCHER_REGEX,convertedXpath:t.OLD_APP_LAUNCHER},{originalXpath:t.NEW_LAST_TAG_SPAN_REGEX,convertedXpath:t.OLD_REMOVE_LAST_TAG_SPAN}]}}function v(){var e="(one\\-app\\-nav\\-bar\\-item\\-root\\["+w(t.NEW_NAV_BAR_LIST_SELECTOR)+"\\]\\/one\\-app\\-nav\\-bar\\-item\\-dropdown\\[1\\]\\/)",n=new RegExp(e);i||(i=[{originalXpath:t.OLD_NAV_BAR_APP_REGEX,convertedXpath:t.NEW_NAV_BAR_APP},{originalXpath:t.OLD_NAV_BAR_REGEX,convertedXpath:t.NEW_NAV_BAR},{originalXpath:t.OLD_NAV_BAR_ITEM_REGEX,convertedXpath:t.NEW_NAV_BAR_ITEM},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_ARROW_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_ARROW},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_ARROW_ICON_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_ARROW_ICON},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_MENU_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_MENU},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_ITEM_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_ITEM},{originalXpath:n,convertedXpath:t.NEW_MORE_BUTTON},{originalXpath:t.OLD_APP_LAUNCHER_REGEX,convertedXpath:t.NEW_APP_LAUNCHER},{originalXpath:t.OLD_APP_NAME_REGEX,convertedXpath:t.NEW_APP_NAME}])}function y(e){var n;n=e.indexOf("nav[1]/ul[1]/li["+w(t.NEW_NAV_BAR_LIST_SELECTOR)+"]")>-1?"slds-button slds-button_reset slds-context-bar__label-action":"slds-button slds-button_reset",o=[{originalClass:t.OLD_ARROW_ICON_CLASSES_SVG,convertedClass:n},{originalClass:t.OLD_ARROW_ICON_CLASSES_A,convertedClass:n},{originalClass:t.OLD_APP_NAME_CLASSES,convertedClass:t.NEW_APP_NAME_CLASSES}],s||(s=[{originalClass:t.NEW_ARROW_ICON_CLASSES,convertedClass:t.OLD_ARROW_ICON_CLASSES_A},{originalClass:t.NEW_APP_NAME_CLASSES,convertedClass:t.OLD_APP_NAME_CLASSES}])}function w(e){var t=wmjQuery(e);if(t.length>0)return t[0].children.length;return 0}c()}r().register("NavBarConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts, NavBarConvertersUtils")},{"wm-prelib-plugin-entry-manager":140}],83:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n,i){var o,a;function s(){o=r().get("PrelibLogger"),a=[e,t]}this.extendDescription=function(e,t){t.sfLightningVersion=i.getSfLightningVersion()},this.extendOriginalSettings=function(e){var t=e.ElementDescription.elementXpath;if(l(t)&&u(e),a)for(var n=0;n<a.length;n++){var r=a[n];try{r.match(e)&&r.process(e)}catch(i){o.write("Exception while trying to use a converter, skipping it"),o.write(i)}}};function l(e){return null!=e.match(n.HEADER_XPATH)}function u(e){e.IsIgnoreId=!0}s()}r().register("FindElementAdapter").asCtor(i).dependencies("SpringSummerConverter, SummerWinterConverter, sfAdapterConsts, SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],84:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry,i=e("wm-prelib-plugin-entry-manager").getCtx;t.exports=r(function(t){e("./salesforceFindElementAdapter.js").SalesforceFindElementAdapter,e("./findElementAdapter.js"),e("./crossVersionConverters/navBarConverter.js"),e("./springSummerConverters/calendarHomeConverter.js"),e("./springSummerConverters/leftMenuConverter.js"),e("./springSummerConverters/iconWithArrowButtonConverter.js"),e("./springSummerConverters/leadsConverter.js"),e("./springSummerConverters/modalConverter.js"),e("./springSummerConverters/chatterMenuConverter.js"),e("./springSummerConverters/detailsFormConverter.js"),e("./sfAdapterUtils.js"),e("./sfAdapterConsts.js"),e("./summerWinterConverters/contentSectionConverter.js"),e("./springSummerConverter.js"),e("./summerWinterConverter.js"),e("./summerWinterConverters/headerButtonsConverter.js"),e("./summerWinterConverters/summerWinterNavBarConverter.js"),e("./navBarConvertersUtils.js");t(i().get("SalesforceFindElementAdapter"))})},{"./crossVersionConverters/navBarConverter.js":82,"./findElementAdapter.js":83,"./navBarConvertersUtils.js":85,"./salesforceFindElementAdapter.js":86,"./sfAdapterConsts.js":87,"./sfAdapterUtils.js":88,"./springSummerConverter.js":89,"./springSummerConverters/calendarHomeConverter.js":90,"./springSummerConverters/chatterMenuConverter.js":91,"./springSummerConverters/detailsFormConverter.js":92,"./springSummerConverters/iconWithArrowButtonConverter.js":93,"./springSummerConverters/leadsConverter.js":94,"./springSummerConverters/leftMenuConverter.js":95,"./springSummerConverters/modalConverter.js":96,"./summerWinterConverter.js":97,"./summerWinterConverters/contentSectionConverter.js":98,"./summerWinterConverters/headerButtonsConverter.js":99,"./summerWinterConverters/summerWinterNavBarConverter.js":100,"wm-prelib-plugin-entry-manager":140}],85:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t){this.isNewNavBar=function(){return wmjQuery("one-appnav").length>0},this.convertAllSelectors=function(e,r,i){var o=e.ElementDescription.elementXpath,a=n(o,r,i);e.ElementDescription.autoQuery&&(t.writeToLog(i,"autoQuery detected, updating with the new selector"),e.ElementDescription.autoQuery=a)};function n(e,n,i){var o=n+" "+r(e);return t.writeToLog(i,"New selector created: "+o),o}function r(e){var t=e.split("/"),n=t[t.length-1],r=n.split("[")[0];return r.toUpperCase()}}r().register("NavBarConvertersUtils").asCtor(i).dependencies("sfAdapterConsts, SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],86:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t=this;t.run=l;var n,i,o,a;function s(){n=r().get("PromiseManager"),i=r().get("EventsListener"),o=r().get("EventsTrigger"),a=r().get("PrelibLogger")}function l(){if(!c())return null;return u(),null}function u(){r().get("EventsListener").on("wm_walkmeLibLoaded",function(){_walkMe.registerFindElementPlugin(e),window._walkmeInternals.extendElementDescription=function(e,t){return window._makeTutorial.getFindElementPluginManager().extendDescription(e,t)}})}function c(){var e=new RegExp("/one/one\\.app.*");return e.test(window.location.pathname)}s()}r().register("SalesforceFindElementAdapter").asCtor(i).dependencies("FindElementAdapter")},{"wm-prelib-plugin-entry-manager":140}],87:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i={PLUGIN_NAME:"[SalesforceFindElementAdapter] ",SUMMER17:"Summer '17",WINTER18:"Winter '18",NEW_NAV_BAR_APP_SELECTOR:'HEADER[id="oneHeader"] ONE-APPNAV',HEADER_SELECTOR:'HEADER[id="oneHeader"]',OLD_MAV_BAR_LIST_SELECTOR:'HEADER[id="oneHeader"] nav ul.slds-grid.slds-has-flexi-truncate',NEW_NAV_BAR_LIST_SELECTOR:'HEADER[id="oneHeader"] one-appnav one-app-nav-bar',HEADER_XPATH:/\/html\[1\]\/body\[1\]\/div\[[5-6]\]\/div\[1\]\/header\[1\]/,NAV_BAR_XPATH:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]/,NEW_NAV_BAR_XPATH:/one\-appnav/,OLD_NAV_BAR_APP_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[2\])/,NEW_NAV_BAR_APP:"one-appnav[1]/div[1]/div[2]",OLD_NAV_BAR_REGEX:/one\-appnav.+(nav\[1\]\/ul\[1\])/,NEW_NAV_BAR:"one-app-nav-bar[1]",OLD_NAV_BAR_ITEM_REGEX:/one\-app\-nav\-bar\[1\]\/(li)\[\d+\]/,NEW_NAV_BAR_ITEM:"one-app-nav-bar-item-root",OLD_NAV_BAR_DROPDOWN_REGEX:/one\-app\-nav\-bar\-item\-root\[\d+\]\/(div\[1\])/,NEW_NAV_BAR_DROPDOWN:"one-app-nav-bar-item-dropdown[1]/div[1]/one-tmp-button-menu[1]",OLD_NAV_BAR_DROPDOWN_ARROW_REGEX:/one\-tmp\-button\-menu\[1\]\/(div\[1\]\/div\[1\]\/div\[1\]\/a\[1\])/,NEW_NAV_BAR_DROPDOWN_ARROW:"button[1]",OLD_NAV_BAR_DROPDOWN_ARROW_ICON_REGEX:/button\[1\](.*)/,NEW_NAV_BAR_DROPDOWN_ARROW_ICON:"",OLD_NAV_BAR_DROPDOWN_MENU_REGEX:/one\-tmp\-button\-menu\[1\]\/(div\[2\]\/div\[1\]\/ul\[1\])/,NEW_NAV_BAR_DROPDOWN_MENU:"div[1]",OLD_NAV_BAR_DROPDOWN_ITEM_REGEX:/one\-tmp\-button\-menu\[1\]\/div\[1\]\/(li)/,NEW_NAV_BAR_DROPDOWN_ITEM:"one-tmp-menu-item",NEW_MORE_BUTTON:"",OLD_APP_LAUNCHER_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[1\]\/div\[1\]\/nav\[1\])/,NEW_APP_LAUNCHER:"one-appnav[1]/div[1]/div[1]/div[1]/nav[1]/one-app-launcher-header[1]",OLD_APP_NAME_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[1\]\/div\[1\]\/div\[1\])/,NEW_APP_NAME:"one-appnav[1]/div[1]/div[1]/div[1]/div[1]",NEW_NAV_BAR_APP_REGEX:/(one\-appnav\[1\]\/)/,OLD_NAV_BAR_APP:"",NEW_NAV_BAR_REGEX:/(one\-app\-nav\-bar\[1\])/,OLD_NAV_BAR:"nav[1]/ul[1]",NEW_NAV_BAR_ITEM_REGEX:/(one\-app\-nav\-bar\-item\-root)/,OLD_NAV_BAR_ITEM:"li",NEW_NAV_BAR_DROPDOWN_ARROW_REGEX:/(one\-app\-nav\-bar\-item\-dropdown\[1\]\/div\[1\]\/one\-tmp\-button\-menu\[1\]\/button\[1\])/,OLD_NAV_BAR_DROPDOWN_ARROW:"div[1]/div[1]/div[1]/a[1]",NEW_MORE_BUTTON_MENU_REGEX:/nav\[1\]\/ul\[1\]\/(div\[1\]\/one\-tmp\-button\-menu\[1\]\/div\[1\])/,NEW_MORE_BUTTON_REGEX:/nav\[1\]\/ul\[1\]\/(div\[1\]\/one\-tmp\-button\-menu\[1\]\/button\[1\])/,NEW_MORE_BUTTON_MENU_ITEM_REGEX:/li\[\d+\]\/div\[1\]\/div\[2\]\/div\[1\]\/ul\[1\]\/(one\-tmp\-menu\-item)/,OLD_MORE_BUTTON_MENU_ITEM:"li",NEW_NAV_BAR_DROPDOWN_ITEM_REGEX:/(one\-app\-nav\-bar\-item\-dropdown\[1\]\/div\[1\]\/one\-tmp\-button\-menu\[1\]\/div\[1\]\/one\-tmp\-menu\-item)/,OLD_NAV_BAR_DROPDOWN_ITEM:"div[1]/div[2]/div[1]/ul[1]/li",NEW_LAST_TAG_SPAN_REGEX:/(span\[\d*\])$/,OLD_REMOVE_LAST_TAG_SPAN:"",NEW_APP_LAUNCHER_REGEX:/(\/one\-app\-launcher\-header\[1\])/,OLD_APP_LAUNCHER:"",OLD_ARROW_ICON_CLASSES_SVG:"slds-icon--xx-small slds-icon",OLD_ARROW_ICON_CLASSES_A:"slds-button slds-button--icon",NEW_ARROW_ICON_CLASSES:"slds-button slds-button_reset",OLD_APP_NAME_CLASSES:"slds-button slds-truncate uiButton",NEW_APP_NAME_CLASSES:"slds-button slds-truncate"};r().register("sfAdapterConsts").asInstance(i)},{"wm-prelib-plugin-entry-manager":140}],88:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n=this;function i(){t=r().get("PrelibLogger")}this.isNewVersion=function(){var t=n.getSfLightningVersion();if(t==e.SUMMER17||t==e.WINTER18)return!0;return!1},this.writeToLog=function(n,r){t.write(e.PLUGIN_NAME+n+r)},this.getSfLightningVersion=function(){return aura.get("$Label.SFXReleaseNotes.CurrentReleaseName"),aura.get("$Label.SFXReleaseNotes.CurrentReleaseName")},this.isWinter18=function(){var t=n.getSfLightningVersion();return t==e.WINTER18},i()}r().register("SfAdapterUtils").asCtor(i).dependencies("sfAdapterConsts")},{"wm-prelib-plugin-entry-manager":140}],89:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n,i,o,a,s,l,u,c){var p,f;function d(){p=r().get("PrelibLogger"),f=[e,t,n,i,o,a,s,l]}this.match=function(e){var t=e.ElementDescription.sfLightningVersion;if(t==u.WINTER18)return!1;return!0},this.process=function(e){if(f)for(var t=0;t<f.length;t++){var n=f[t];try{if(n.match(e)){n.process(e);break}}catch(r){p.write("Exception while trying to use a converter, skipping it"),p.write(r)}}},d()}r().register("SpringSummerConverter").asCtor(i).dependencies("NavBarConverter, CalendarHomeConverter, LeftMenuConverter, IconWithArrowButtonConverter, LeadsConverter, ModalConverter, ChatterMenuConverter, DetailsFormConverter, sfAdapterConsts, SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],90:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t="CalendarHomeConverter ",n=/^(DIV\[id=\"calendarHome\"\]\s)UL\sLI\sA$/,r="";function i(){}this.match=function(e){if(o()&&a(e))return!0;return!1},this.process=function(i){if(!e.isNewVersion())return;var o=i.ElementDescription.autoQuery;e.writeToLog(t,"Original selector: "+o);var a=n.exec(o);i.ElementDescription.autoQuery=o.replace(a[1],r),e.writeToLog(t,"Converted selector: "+i.ElementDescription.autoQuery)};function o(){return wmjQuery('DIV[id="calendarHome"]:mt_visible').length>0}function a(e){var t=e.ElementDescription.autoQuery;if(t){var r=n.exec(t);if(r)return!0}return!1}i()}r().register("CalendarHomeConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],91:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n="ChatterMenuConverter ",i=/\sSPAN$/,o="";function a(){t=r().get("PrelibLogger")}this.match=function(e){var t=e.ElementDescription.elementClass;if(t&&"anchorUnderline"==t&&s())return!0;return!1},this.process=function(t){if(!e.isNewVersion())return;var r=t.ElementDescription.autoQuery;e.writeToLog(n,"Original selector: "+r),r&&(r=r.replace(i,o),e.writeToLog(n,"Converted selector: "+r),t.ElementDescription.autoQuery=r)};function s(){var e=wmjQuery(".desktopChatterPage.forceChatterDesktopChatter:mt_visible");if(e.length>0)return!0;return!1}a()}r().register("ChatterMenuConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],92:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n,i,o,a="DetailsFormConverter ",s=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/(?:(?:div\[1\]\/div\[1\])|(?:div\[2\]))\/div\[\d*\]\/div\[1\]\/div\[1\]\/div\[\d*\]\/div\[1\]\/div\[1\]\/div\[1\]\/section\[\d*\]\/div\[1\]\/form\[1\]/,l="SECTION SECTION FORM ",u="",c="H2",p="H3",f="A svg",d="BUTTON",g="slds-button slds-button--neutral inlineEditTrigger uiButton hover",m="slds-button test-id__inline-edit-trigger slds-button_icon slds-button_icon-small slds-shrink-none inline-edit-trigger slds-button--icon-container",h="itemLabel truncate",v="test-id__field-label slds-form-element__label",y="slds-icon--xx-small slds-icon",w=/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/(div\[1\]\/div\[1\])/,b="div[2]",_=/(form\[1\]\/section\[1\]\/div\[1\]\/div\[1\]\/section\[\d*\]\/div\[\d*\])/,E=/(form\[1\]\/section\[1\]\/div\[2\]\/div\[1\]\/div\[1\]\/div\[2\]\/section\[1\]\/div\[\d*\])/,S="div[1]/div[4]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]",C=/form\[1\]\/section\[1\]\/div\[2\].*?\/(fieldset|[^\/]+$)/,x=/(div\[1\]\/div\[1\]\/a\[1\]\/span\[2\]\/span\[1\]\/svg\[1\])/,A="span[1]/div[1]/button[1]",N=/(div\[1\]\/div\[1\]\/div\[1\]\/div\[2\]\/a\[1\]\/span\[1\]\/span\[1\]\/svg\[1\])/,T="span[1]/div[1]/button[1]",R=/form\[1\]\/section\[1\]\/div\[1\]\/div\[1\]\/section\[(\d*)\]/;function j(){t=r().get("PrelibLogger"),n=[{from:l,to:u},{from:c,to:p},{from:f,to:d}],o=[{from:g,to:m},{from:h,to:v}],i=[{originalXpath:w,convertedXpath:b},{originalXpath:E,convertedXpath:S},{originalXpath:x,convertedXpath:A},{originalXpath:N,convertedXpath:T}]}this.match=function(e){if(D()&&P(e))return!0;return!1},this.process=function(t){if(!e.isNewVersion())return;k(t),O(t),L(t)};function L(t){var n=I(t),r=n.concat(i),o=t.ElementDescription.elementXpath;e.writeToLog(a,"Original xpath: "+o);for(var s=0;s<r.length;s++){var l=r[s],u=l.originalXpath.exec(o);u&&(o=o.slice(0,u.index)+o.substring(u.index).replace(u[1],l.convertedXpath))}e.writeToLog(a,"Converted xpath: "+o),t.ElementDescription.elementXpath=o}function k(t){var r=t.ElementDescription.autoQuery;if(r){e.writeToLog(a,"Original selector: "+r);for(var i=0;i<n.length;i++){var o=n[i];r=r.replace(o.from,o.to)}t.ElementDescription.autoQuery=r,e.writeToLog(a,"Converted selector: "+r)}}function O(t){var n=M(t),r=o.concat(n),i=t.ElementDescription.elementClass;if(i){e.writeToLog(a,"Original class: "+i);for(var s=0;s<r.length;s++){var l=r[s];i=i.replace(l.from,l.to)}e.writeToLog(a,"Converted class: "+i),t.ElementDescription.elementClass=i}}function D(){var e=wmjQuery("li.active a.tabHeader span.title:mt_visible").filter(function(){return"Details"==this.textContent});return e.length>0}function P(e){var t=e.ElementDescription.elementXpath;return null!=t.match(s)}function I(e){var t=e.ElementDescription.elementXpath,n="div[1]/div[3]/div[1]/div["+U(t)+"]/div[1]/div[1]",r=C.exec(t),i="";return r&&(i="div[1]/div[1]/"+r[1]),dynamicXpathConversionMap=[{originalXpath:C,convertedXpath:i},{originalXpath:_,convertedXpath:n}],dynamicXpathConversionMap}function M(e){var t=e.ElementDescription.elementXpath,n=y,r=x.exec(t),i=N.exec(t);return r?n="slds-button slds-button_icon slds-button_icon-small changeOwnerLink":i&&(n="slds-button testid__change-record-type-link slds-button_icon slds-button_icon-small slds-shrink-none changeRecordTypeLink slds-button--icon-container"),dynamicClassConversionMap=[{from:y,to:n}],dynamicClassConversionMap}function U(e){var t=R.exec(e);if(t)return t[1];return 0}j()}r().register("DetailsFormConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],93:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n,r=["slds-button","slds-button--icon-more"],i=["slds-button","slds-button--icon","slds-button--icon-more"],o="."+r.join("."),a=o,s="/div$1/div[1]/div[1]/div[1]/div[1]/a[1]",l="/div$1/div[1]/button[1]",u=/\sa$|^a$/i,c=/\sbutton$|^button$/i;function p(){f()}function f(){var e=d("div"),r=d("div",!0),i=d("a"),o=d("button"),a=e+r+"(?:/div[1])?"+e+e+e+i;t=new RegExp(a+"$","i");var s=r+e+o;n=new RegExp(s+"$","i")}this.match=function(e){if(h(e)&&!g())return!0;if(v(e)&&!m())return!0;return!1},this.process=function(e){var t=g();t?(N("Converting from Summer to Spring"),E(e)):(N("Converting from Spring to Summer"),_(e))};function d(e,t){return t?"\\/"+e+"(\\[?[0-9]*\\]?)":"\\/"+e+"\\[?[0-9]*\\]?"}function g(){return!e.isNewVersion()}function m(){return e.isNewVersion()}function h(e){return y(e,t,r)}function v(e){return y(e,n,i)}function y(e,t,n){var r=t.test(e.ElementDescription.elementXpath);if(!r)return!1;var i=w(e),o=b(n,i);if(!o)return!1;return!0}function w(e){return e.ElementDescription.elementClass.split(" ")}function b(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=mtjQuery.inArray(r,t)!=-1;if(!i)return!1}return!0}function _(e){C(e),x(e,t,l),A(e,u,a),S(e,i)}function E(e){x(e,n,s),A(e,c,o),S(e,r)}function S(e,t){var n=t.join(" ");e.ElementDescription.elementClass=n,e.ElementDescription["class"]=n}function C(e){e.ElementDescription.textArray&&1==e.ElementDescription.textArray.length&&"display:grid"==e.ElementDescription.textArray[0]&&(e.ElementDescription.textArray[0]="displayastable")}function x(e,t,n){var r=e.ElementDescription.elementXpath,n=r.replace(t,n);N("oldXPath : "+r),N("newXPath : "+n),e.ElementDescription.elementXpath=n}function A(e,t,n){var r=e.ElementDescription.autoQuery,i=r.replace(t," "+n);N("oldAutoQuery : "+r),N("newAutoQuery : "+i),e.ElementDescription.autoQuery=i}function N(t){e.writeToLog("IconWithArrowButtonConverter",t)}p()}r().register("IconWithArrowButtonConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],94:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t="LeadsConverter ",n="pa-card  full runtime_sales_pathassistantPathAssistantCard runtime_sales_pathassistantPathAssistantCardDesktop",r=".pa-card.large.runtime_sales_pathassistantPathAssistantCard.runtime_sales_pathassistantPathAssistantCardDesktop";function i(){}this.match=function(e){var t=e.ElementDescription.elementClass;if(t&&t==n&&o())return!0;return!1},this.process=function(n){if(!e.isNewVersion())return;var r=n.ElementDescription.elementClass;e.writeToLog(t,"Original class: "+r),n.ElementDescription.elementClass=r.replace("full","large"),e.writeToLog(t,"Converted class: "+n.ElementDescription.elementClass)};function o(){return wmjQuery(r+":mt_visible").length>0}i()}r().register("LeadsConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],95:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n,i="LeftMenuConverter ",o="navItemsReport",a="navItemsDashboard",s="navItemsFolder",l="folderHeader",u="folder-header",c="entityHeader",p="entity-header";function f(){t=r().get("PrelibLogger"),n=[{from:o,to:s},{from:a,to:s},{from:l,to:u},{from:c,to:p}]}this.match=function(e){var t=e.ElementDescription.autoQuery;if(t)for(var r=0;r<n.length;r++){var i=n[r];if(t.indexOf(i.from)>-1)return!0}return!1},this.process=function(t){var r=!1;if(e.isNewVersion()){e.writeToLog(i,"Detected a capture from an old version in a new version, converting...");for(var o=t.ElementDescription.autoQuery,a=t.ElementDescription.elementId,s=0;s<n.length;s++){var l=n[s];if(o.indexOf(l.from)>-1){var u=d(o,l.from,l.to,"selector");t.ElementDescription.autoQuery=u,r=!0}if(a&&a.indexOf(l.from)>-1){var u=d(a,l.from,l.to,"ID");t.ElementDescription.elementId=u,r=!0}if(r)return}}};function d(t,n,r,o){e.writeToLog(i,"Original "+o+":"+t);var a=t.replace(n,r);return e.writeToLog(i,"Converted "+o+":"+a),a}f()}r().register("LeftMenuConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],96:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[2\]\/div\[[0-9]*\]\/div\[2\]\/div\[1\]\/div\[2\]\/form\[1\]\/section\[1\]/;function n(){}this.match=function(e){if(i(e)&&!r())return!0;return!1},this.process=function(e){var t=r();t||(c("Converting from Spring to Summer"),a(e))};function r(){return!e.isNewVersion()}function i(e){return o(e,t)}function o(e,t){var n=t.test(e.ElementDescription.elementXpath);if(!n)return!1;return!0}function a(e){e.IsIgnoreId=!0;var t=e.ElementDescription.elementClass&&e.ElementDescription.elementClass.indexOf("sectionHeader")>-1;u(e,t),l(e,t),s(e,t)}function s(e,t){var n=e.ElementDescription.autoQuery,r="div.uiModal "+n.replace(/section ?/gi,"").replace(/form ?/gi,"");t&&(r=NaN),c("oldAutoQuery : "+n),c("newAutoQuery : "+r),e.ElementDescription.autoQuery=r}function l(e,t){t&&(e.ElementDescription.elementClass=e.ElementDescription.elementClass.replace("sectionHeader","section-header-title"))}function u(e,t){var n=e.ElementDescription.elementXpath,r=n.replace(/\/form\[([0-9]*)\]\/section\[1\]\/div\[1\]/gi,"/div[$1]/div[4]").replace(/\/section\[([0-9]*)\]\/div\[2\]\/div\[([0-9]*)\]\/div\[([0-9]*)\]/gi,"/div[$1]/div[1]/div[1]/div[$2]/div[$3]/div[1]").replace(/\/fieldset\[([0-9]*)\]/gi,"/div[1]/fieldset[1]").replace(/\/section\[([0-9]*)\]/gi,"/div[$1]");t&&(r=r.replace(/\/div\[([0-9]*)\]$/i,"/h3[$1]")),c("oldXPath : "+n),
c("newXPath : "+r),e.ElementDescription.elementXpath=r}function c(t){e.writeToLog("ModalConverter",t)}n()}r().register("ModalConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],97:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n,i,o){var a,s;function l(){a=r().get("PrelibLogger"),s=[e,t,n]}this.match=function(e){var t=o.isWinter18(),n=e.ElementDescription.sfLightningVersion,r=t&&n!=i.WINTER18,a=!t&&n==i.WINTER18;return r||a},this.process=function(e){if(s)for(var t=0;t<s.length;t++){var n=s[t];try{if(n.match(e)){n.process(e);break}}catch(r){a.write("Exception while trying to use a converter, skipping it"),a.write(r)}}},l()}r().register("SummerWinterConverter").asCtor(i).dependencies("SummerWinterNavBarConverter, ContentSectionConverter, HeaderButtonsConverter, sfAdapterConsts, SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":140}],98:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t){var n="ContentSectionConverter ",r=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/(?:(?:div\[1\]\/div\[1\])|(?:div\[2\]))/,i="/html[1]/body[1]/div[5]/div[1]/section[1]/div[2]/div[1]/div[1]",o=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/div\[2\]\/div\[1\]\/div\[1\]/,a="/html[1]/body[1]/div[5]/div[1]/section[1]/div[2]/";this.match=function(e){var t=e.ElementDescription.elementXpath;if(null!=t.match(r))return!0;return!1},this.process=function(e){var n=e.ElementDescription.alreadyConverted;if(n)return;var r=e.ElementDescription.sfLightningVersion;r==t.WINTER18?s(e):l(e)};function s(e){u(e,o,a)}function l(e){u(e,r,i)}function u(t,r,i){var o=t.ElementDescription.elementXpath;e.writeToLog(n,"Original xpath: "+o),o=o.replace(r,i),t.ElementDescription.elementXpath=o,e.writeToLog(n,"Converted xpath: "+o),t.ElementDescription.alreadyConverted=!0}}r().register("ContentSectionConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts")},{"wm-prelib-plugin-entry-manager":140}],99:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t){var n="HeaderButtonsConverter ",r=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[2\]\/ul\[1\]/,i="/html[1]/body[1]/div[5]/div[1]/header[1]/div[2]/span[1]/ul[1]",o=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[2\]\/span\[1\]\/ul\[1\]\/li\[6\]\/div\[1\]\/div\[1\]/,a="/html[1]/body[1]/div[5]/div[1]/header[1]/div[2]/span[1]/ul[1]/li[6]";this.match=function(e){var t=e.ElementDescription.elementXpath;if(t.match(r))return!0;return!1},this.process=function(t){if(!e.isWinter18())return;var s=t.ElementDescription.elementXpath;e.writeToLog(n,"Original xpath: "+s),s=s.replace(r,i),s=s.replace(o,a),e.writeToLog(n,"Converted xpath: "+s),t.ElementDescription.elementXpath=s}}r().register("HeaderButtonsConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts")},{"wm-prelib-plugin-entry-manager":140}],100:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n,r){var i,o,a="SummerWinterNavBarConverter ",s=/div\[2\]\/one\-app\-nav\-bar\[1\]/,l="one-app-nav-bar[1]/nav[1]/ul[1]",u=/one\-app\-nav\-bar\-item\-root/,c="li",p=/one\-app\-nav\-bar\[1\]\/nav\[1\]\/ul\[1\]/,f="div[2]/one-app-nav-bar[1]",d=/(one\-app\-nav\-bar\[1\]\/)li\[\d+\](\/one\-tmp\-button\-menu\[1\])/,g="$1div[1]$2",m=/(one\-app\-nav\-bar\[1\]\/)li/,h="$1one-app-nav-bar-item-root";function v(){i=[{originalXpath:s,convertedXpath:l},{originalXpath:u,convertedXpath:c}],o=[{originalXpath:p,convertedXpath:f},{originalXpath:d,convertedXpath:g},{originalXpath:m,convertedXpath:h}]}this.match=function(t){var n=t.ElementDescription.elementXpath;if(n.match(e.NAV_BAR_XPATH))return!0;return!1},this.process=function(s){t.isWinter18()?(y(s,i),r.convertAllSelectors(s,e.NEW_NAV_BAR_APP_SELECTOR,a)):(y(s,o),r.convertAllSelectors(s,e.HEADER_SELECTOR,a));var l=r.isNewNavBar();l||n.process(s)};function y(e,n){var r=e.ElementDescription.elementXpath;t.writeToLog(a,"Original xpath: "+r);for(var i=0;i<n.length;i++){var o=n[i];r=r.replace(o.originalXpath,o.convertedXpath)}e.ElementDescription.elementXpath=r,t.writeToLog(a,"Converted xpath: "+r)}v()}r().register("SummerWinterNavBarConverter").asCtor(i).dependencies("sfAdapterConsts, SfAdapterUtils, NavBarConverter, NavBarConvertersUtils")},{"wm-prelib-plugin-entry-manager":140}],101:[function(e,t,n){"use strict";var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(){var t=this;t.run=a;var n,i=function(){return window.aura&&!0};function o(){n=r().get("EventsListener")}function a(){var t=e("./logger.js");n.once("DataLoadedEvent",function(){try{var n=e("./bi-logger.js");n.init()}catch(i){r("error","initializing BI Logger",t.errorData(i))}}),n.once("wm_walkmeLibLoaded",function(){e("./sf-entity-resolver.js").init().then(function(){try{if(i()){var n=e("./extend-identify-settings.js"),o=_walkmeInternals.extendElementDescription;_walkmeInternals.extendElementDescription=function(){var e=Array.prototype.slice.call(arguments,0);return o&&(e[1]=o.apply(this,e)),n.extendElementDescription.apply(n,e)},r("info","plugin ready"),t.log("plugin version:",e("../package.json").version)}}catch(a){r("error","initializing extendElementDescription",t.errorData(a))}})["catch"](function(e){r("error","initializing sf-entity-resolver",t.errorData(e))});try{var n=e("./find-element.js").pluginClass;_makeTutorial.registerFindElementPlugin(new n)}catch(o){r("error","initializing FE plugin",t.errorData(o))}});function r(e,r,i){n.once("WalkMeReady",function(){t.logzioLog(e,r,i)})}}o()}n.FEPluginSalesforceLightning=i},{"../package.json":113,"./bi-logger.js":102,"./extend-identify-settings.js":103,"./find-element.js":104,"./logger.js":105,"./sf-entity-resolver.js":110,"wm-prelib-plugin-entry-manager":140}],102:[function(e,t,n){"use strict";var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("./logger");t.exports={init:u,addResult:p};var o="wm-fe-pi-sfl",a=600,s={},l=Math.random()<.1;function u(){c(),r().get("WindowBeforeUnloadHandler").register(g),f()}function c(){i.log("registering"),r().get("UIChangeTracker").bind(function(){l&&m(),l=Math.random()<.1})}function p(e){i.log("result",e),l&&v(e)}function f(){if(!r().has("BILogger"))return void i.log("no BILogger in ctx");i.log("loading events from storage");var e=r().get("ClientStorageManager").getData(o);d("[]");var t=e?r().get("CommonUtils").secureEvalJSON(e):null;if(t&&t.length>0)for(var n=0;n<t.length;n++)i.log("sending to bi",t[n]),w(t[n])}function d(e){r().get("ClientStorageManager").saveData(o,e,a)}function g(){if(l){var e=y(s);if(e.length>0){i.log("saving to storage",e);var t=r().get("CommonUtils").toJSON(e);d(t)}}}function m(){var e=y(s);if(e.length>0)for(var t=0;t<e.length;t++)e[t]&&e[t].total>0&&(i.log("trying to send to bi",e[t]),w(e[t]));s={}}function h(e){return{total:0,count:0,sessionId:"",type:"sfl",key:"pi",name:"result",reason:e}}function v(e){var t=e.reason;s[t]||(s[t]=h(t));var n=s[t];n.total++,n.count+=e.skip?1:0,n.sessionId=n.sessionId||r().get("CommonUtils").toJSON(e.currPage)}function y(e){var t=[];for(var n in e)t.push(e[n]);return t}function w(e){r().has("BILogger")?r().get("BILogger").send("feperf",e):i.log("warn","no BILogger in ctx, can't send message")}},{"./logger":105,"wm-prelib-plugin-entry-manager":140}],103:[function(e,t,n){"use strict";var r=e("wm-prelib-plugin-entry-manager").getCtx,i=r(),o=e("./salesforceLigthningMapping.js"),a=e("./logger.js"),s=e("./utils.js"),l="ExtendIdentifySettingsOnCaptureCallbacksArray";i.has(l)||i.register(l).asInstance([]),i.get(l).push(u);function u(e){var t=e.ElementDescription.sfLightning;return t&&!e.IsValidPageId&&t.page&&(e.IgnorePageIdentification=t.ignore,e.IsValidPageId=t.page?1:0),e}t.exports={extendElementDescription:c};function c(t,n){var r=i.get("CommonUtils"),l=r.secureEvalJSON(n),u=o.recognizeElement(t),c=o.pageType(),p=l.sfLightning={version:e("../package.json").version,sfVersion:s.getSfLightningVersion()};return c&&(p.page=c),u&&(p.exactEl=u.exact,p.data=u,p.ignore=o.shouldIgnorePage(t)),a.log("el desc",l.sfLightning),r.toJSON(l)}},{"../package.json":113,"./logger.js":105,"./salesforceLigthningMapping.js":109,"./utils.js":112,"wm-prelib-plugin-entry-manager":140}],104:[function(e,t,n){"use strict";t.exports={pluginClass:l};var r=e("./salesforceLigthningMapping.js"),i=e("wm-xpath-utils"),o=e("./bi-logger.js"),a=e("./logger.js"),s=e("wm-prelib-plugin-entry-manager").getCtx;function l(){this.extendOriginalSettings=function(e){var t=e.ElementDescription,n=t.sfLightning;if(!n||!n.page&&!n.data)return t.noSfLightning=!0,u(!0,"no sf lightning data on desc");a.log("element desc version:",n.version),a.log("element desc SF version:",n.sfVersion);var o=r.pageType();if(!e.IgnorePageIdentification&&(a.log("page is important. looked up element was captured on",n.page,". current page id is",o),!r.isSamePage(n.page,o)))return t.doNotRun=!0,u(!1,"different page",o);t.doNotRun=!1;var s=n.data;if(!s)return u(!0,"desc has no data");var l=r.findElementContext(n.data);if(!l||!l.length)return t.doNotRun=!0,u(!1,"no context found",o);if(t.customContext=l,t.autoQuery="",t.exactEl=n.exactEl?l[0]:void 0,n.data.xpath){var c=i.xpathArrayToString(i.calculateXpath(l));t.elementXpath=c+n.data.xpath}return u(!0,"same page",o)};function e(e){e.customContext=void 0,e.exactEl=void 0}this.findElement=function(t,n){if(t.ElementDescription.noSfLightning)return;if(t.ElementDescription.doNotRun)return!1;var r=t.ElementDescription.exactEl;return r&&(e(t.ElementDescription),n&&(n.score=15)),r},this.extendAdaptedSettings=function(e,t){if(e.ElementDescription.noSfLightning)return;t.customContext=e.ElementDescription.customContext,t.autoQuery=e.ElementDescription.autoQuery},this.extendResult=function(t,n,r){if(t.ElementDescription.noSfLightning)return;if(e(n),!r.elements[0])return;if(n.attributes.id&&r.elements[0]){var i=4,o=6,a=r.elements[0].totalScore;t.IsIgnoreId?r.elements[0].totalScore+=i:r.elements[0].totalScore=Math.max(a-o,.1)}}}function u(e,t,n){return o.addResult({skip:!e,currPage:s().get("CommonUtils").toJSON(n),reason:t}),!!e&&void 0}},{"./bi-logger.js":102,"./logger.js":105,"./salesforceLigthningMapping.js":109,"wm-prelib-plugin-entry-manager":140,"wm-xpath-utils":157}],105:[function(e,t,n){"use strict";var r=e("wm-prelib-plugin-entry-manager").getCtx,i=r().get("PrelibLogger"),o=e("wm-logzio-sender")(r()),a="SalesforceLightningFindElement";function s(){var e=Array.prototype.slice.call(arguments);e.unshift("[ FE-Salesforce-lightning ]"),i.write.apply(i,e)}function l(t,n,r){s.apply(this,arguments),r=r||{},r.level=t,r.plugin=a,r.pluginVersion=e("../package.json").version,o.sendLog(n,r)}function u(e){return{errMessage:e.message,errStack:e.stack}}n.log=s,n.logzioLog=l,n.errorData=u},{"../package.json":113,"wm-logzio-sender":77,"wm-prelib-plugin-entry-manager":140}],106:[function(e,t,n){"use strict";var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./FEPluginSalesforceLightning.js").FEPluginSalesforceLightning;t(new n)})},{"./FEPluginSalesforceLightning.js":101,"wm-prelib-plugin-entry-manager":140}],107:[function(e,t,n){"use strict";var r=e("wm-xpath-utils"),i=e("./types.js").types.navbar.selector,o=/\/lightning\/[^\/]+\/([^?#\/]+)/,a=/\/sObject\/([^?#\/]+)/,s=/#?\/home$/,l=/\//,u=function(e,t){return e.is(t)?e:e.closest(t)},c=function(e,t){var n=u(e,_[t].selector);if(0!==n.length)return{type:t,id:_[t].id(n),parent:n}},p=function(e){var t=a.exec(e);if(t)return t[1];if(t=o.exec(e))return t[1];if(t=s.exec(e))return"home";if(t=l.exec(e),!t)return e},f=function(e){var t=e.match(/https?:\/\/[^\/]*(\/.+)/);if(t)return p(t[1]);return},d=function(e){return f(e.closest(y).find("a.slds-context-bar__label-action")[0].href)},g=function(e){return f(e.find('a[role="menuitem"]')[0].href)},m=function(){return"wmMore"},h=function(e){return f(e.find("a.slds-context-bar__label-action")[0].href)},v="one-app-nav-bar one-app-nav-bar-item-dropdown",y="li.slds-context-bar__item.slds-shrink-none:not(.slds-context-bar__dropdown-trigger.hidden)",w="li.slds-context-bar__item.slds-context-bar__dropdown-trigger.slds-shrink-none",b=w.concat(" one-tmp-menu-item"),_={dropdown:{id:d,selector:v},innerMenuItem:{id:g,selector:b},moreItem:{id:m,selector:w},regularItem:{id:h,selector:y}},E=function(e){return c(e,"dropdown")||c(e,"innerMenuItem")||c(e,"moreItem")||c(e,"regularItem")||{}},S=function(e,t){if("regularItem"===e||"innerMenuItem"===e)return _.regularItem.selector.concat(", ",_.innerMenuItem.selector,t?" a":"");return _[e].selector},C=function(e){var t=wmjQuery(e),n=E(t),o=n.type,a=n.id,s=n.parent;if(!o||!a){var l=t.is(i);return{type:"navbar",info:{},selector:i,exact:l,xpath:l?void 0:r.xpathArrayToString(r.calculateXpath(t,wmjQuery(i)))}}var u=s===t;return{type:"navbar",info:{type:o,id:a},selector:S(o,u),exact:u,xpath:u?void 0:r.xpathArrayToString(r.calculateXpath(t,s))}},x=function(e){var t=e.selector,n=e.info.id;n=p(n);for(var r=wmjQuery(t).filter(":mt_visible, one-tmp-menu-item"),i=0;i<r.length;i++)if(E(wmjQuery(r[i])).id===n)return wmjQuery(r[i])};t.exports={find:x,capture:C}},{"./types.js":111,"wm-xpath-utils":157}],108:[function(e,t,n){"use strict";var r=e("./logger.js"),i=e("./utils.js"),o=i.travelToFirstOfTypes,a=i.getAvailableProps,s=i.getComponent,l=i.isOpenModal,u=i.aura;function c(){if(l())return void r.log("modal, doing nothing");var e=s(wmjQuery("header#oneHeader.slds-global-header_container.oneHeader")[0]);if(!e)return;var t=o(["one:standardLayoutContainer"],e);if(!t)return;var n=a(["state.attributes"],t.comp),i=n["state.attributes"];if(!i){var c=a(["pageRefTx"],u.getRoot()),d=c.pageRefTx;if(!d)return;return p(d.dispositionValue.attributes)}return f(i)}function p(e){var t=e.name,n=e.pageName,r=e.actionName,i=e.objectApiName;return t||n||r||i?{pageName:n,name:t,actionName:r,sObjectName:i}:void 0}function f(e){var t=e.name,n=e.pageName,r=e.actionName,i=e.sObjectName;return t||n||r||i?{pageName:n,name:t,actionName:r,sObjectName:i}:void 0}function d(e,t){var n=function(n){return e[n]===t[n]};if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;if(n("pageName")&&n("actionName")&&n("sObjectName"))return!0;return!1}t.exports={pageType:c,isSamePage:d}},{"./logger.js":105,"./utils.js":112}],109:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/extends"),i=o(r);function o(e){return e&&e.__esModule?e:{"default":e}}var a=e("./logger.js"),s=e("wm-xpath-utils"),l=e("./navbar.js"),u=e("./page-utils.js"),c=u.pageType,p=u.isSamePage,f=e("./types.js"),d=f.types,g=f.typeOrder,m=e("./utils.js"),h=m.clearObj,v=m.removeFromKeys,y=m.getAvailableProps,w=m.eq,b=m.travelToFirstOfTypes,_=m.getComponent,E=m.getContainer,S=m.isOpenModal;function C(e){var t=void 0,n=void 0,r=e;do{if(t=T(E(r).getElement()),!t)return;r=t.comp,n=t.type}while(d[n].notContext===!0);return R(t)}var x=function(){return{dropdownArrow:function(e){return{exact:!0,info:A("dropdownArrow",e)}},dropDown:function(e){var t=C(e);if("ui:actionMenuItem"===e.type)return{selector:"li.uiMenuItem",info:{id:e.get("v.id"),context:t}};if("force:actionEventLink"===e.type)return{selector:"div.forceActionLink",info:{id:e.get("v.action.devNameOrId"),context:t}};if("ui:radioMenuItem"===e.type)return{selector:"li.uiMenuItem.uiRadioMenuItem",info:{id:e.get("v.value"),context:t}}},rtComp:function(e){var t=e.get("v.componentInfoDefRef")[0].componentDef.descriptor;return{selector:"div.flexipageComponent",info:{descriptor:t}}},quickLink:function(){var e=/(.*) \(.*\)/;return function(t,n){var r=t.get("v.relatedLists"),i=n?wmjQuery(n):t.getElement(),o="li.rlql-relatedListQuickLink",a=i.is(a)?i:i.closest(o);if(!(a.length>0))return{selector:"div.forceRelatedListQuickLinksContainer",exact:!0};var s=a.find("a.rlql-relatedListLink span").attr("title");e.test(s)&&(s=e.exec(s)[1]);for(var l=0;l<r.length;l++)if(r[l].label===s)return{selector:o,info:{id:r[l].relatedListApiName},exact:!0}}}()}}();function A(e,t){var n=d[e].context&&C(t),r=d[e].info?y(d[e].info,t):{};return r.context=n,r}var N=function(e,t){if("string"==typeof e)return b([e],t);var n=b(e,t);if(!n){a.log("component is of unknown type. trying runtime comp");var r=b(["rtComp"],t);if(!r)return void a.log("component is of unknown type. doing nothing");return r}return n},T=function(e,t){if(S())return void a.log("modal, doing nothing");var n=_(e);if(!n)return void a.log("no component found for the element. doing nothing");return N(t||g,n)};function R(e){var t=e.type,n=e.comp,r=e.el;return x[t]?(a.log("component has exceptional type",t),x[t](n,r)):(a.log("regular component of type",t),{info:A(t,n),type:t})}var j=function(e){var t=T(e,g);if(!t)return;var n=t.comp,r=t.type;if("blacklist"===r)return;if("navbar"===r)return l.capture(e);var i=R({comp:n,type:r,el:e}),o=i.info,a=i.selector,u=i.exact;if(!a&&(a=d[r].selector,"string"!=typeof a&&a.length)){var c=wmjQuery.inArray(n.type,d[r].types);a=a[c]}var p=n.getElement(),f=void 0;if(void 0===u&&(u=e===p),!u){var m=wmjQuery(e),h=wmjQuery(p);f=s.xpathArrayToString(s.calculateXpath(m,h))}return{type:r,info:o,selector:a,xpath:f,exact:u}},L=function(e){var t=wmjQuery.extend(!0,{},e);return"div.slds-clearfix.slds-card.forceDetailPanel"===t.selector&&(t.selector="div.slds-clearfix.slds-card[class*=forceDetailPanel]"),h(["selector","exact","xpath"],t.info),v([/^v\./],t.info),t};function k(e){var t=L(e),n=t.type,r=t.info,o=t.selector;if("navbar"===n)return l.find(t);for(var s=window.wmjQuery(o).filter(":mt_visible"),u=0;u<s.length;u++){var c=T(s[u],n);if(!c)return;var p=R((0,i["default"])({},c,{el:s[u]}));if(c.type===n&&w(r,p.info))return a.log("found a context element of type",n),wmjQuery(s[u])}return}var O=function(e){return wmjQuery("header#oneHeader.slds-global-header_container.oneHeader").find(e).length};t.exports={recognizeElement:j,pageType:c,isSamePage:p,shouldIgnorePage:O,findElementContext:k}},{"./logger.js":105,"./navbar.js":107,"./page-utils.js":108,"./types.js":111,"./utils.js":112,"babel-runtime/helpers/extends":8,"wm-xpath-utils":157}],110:[function(e,t,n){"use strict";var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("./logger").log,o=e("wm-sf-common-components"),a={};t.exports={init:s,mapKeyToName:function(e){return a[e]}};function s(){var e=r(),t=e.get("PromiseManager");return new t.Promise(function(t){e.has("SalesForceConnectionUtils")||o(e),e.has("SalesForceConnectionUtils")?e.get("SalesForceConnectionUtils").injectSFConnection(function(){try{var n,r,o;if(n=e.has("SalesForceConnection")?e.get("SalesForceConnection").getSforce():window.sforce,n&&(r=n.connection.describeGlobal(),o=r.getArray("sobjects")),o&&o.length){a={};for(var s=0;s<o.length;s++){var l=o[s].keyPrefix;l&&(a[l]=o[s].name)}}}catch(u){i("failed getting info from sforce connection",u)}t()},function(){t()}):t()})}},{"./logger":105,"wm-prelib-plugin-entry-manager":140,"wm-sf-common-components":151}],111:[function(e,t,n){"use strict";t.exports={typeOrder:["quickLink","blacklist","calendarHeader","settingsMenuButton","menuList","displaySwitcher","recommendations","homeAssistant","detailPanel","dropdownArrow","card","recentItems","news","navbar","actionLink","dropDown","quickAction","header","tabItem","listViewGrid","listViewManagerHeader","highlights"],types:{highlights:{types:["force:highlightsPanel"],selector:"header.forceHighlightsPanel"},header:{types:["one:header"],selector:"header#oneHeader.slds-global-header_container.oneHeader"},card:{types:["force:relatedListCardDesktop","force:relatedListSingleContainer"],selector:["article.slds-card.slds-card_boundary.forceRelatedListCardDesktop","div.container.forceRelatedListSingleContainer"],info:["relatedListConfig.entityKeyPrefix","relatedListConfig.relatedListApiName"]},dropdownArrow:{types:["force:deferredDropDownAction","force:virtualAction"],selector:["div.actionsContainer > div.forceDeferredDropDownAction, div.actionsContainer > ul.forceDeferredDropDownAction","div.forceVirtualActionMarker.forceVirtualAction > a.rowActionsPlaceHolder, div.forceVirtualActionMarker.forceVirtualAction > ul.oneActionsRibbon"],context:!0,notContext:!0},rtComp:{types:["flexipage:runtimeComponent"],selector:"div.flexipageComponent"},settingsMenuButton:{types:["force:listViewSettingsMenu"],selector:"div.test-listViewSettingsMenu.forceListViewSettingsMenu"},displaySwitcher:{types:["force:listViewManagerDisplaySwitcher"],selector:"div.test-listviewdisplayswitcher.forceListViewManagerDisplaySwitcher"},actionLink:{types:["force:actionEventLink"],info:["action.devNameOrId"],selector:"a.forceActionLink",context:!0},navbar:{types:["one:appNavContainer"],selector:"one-appnav"},menuList:{types:["force:actionsDropDownMenuList"],selector:"div.actionMenu.popupTargetContainer.uiPopupTarget.uiMenuList.forceActionsDropDownMenuList",context:!0},quickAction:{types:["force:publisherQuickActionCollapser"],selector:"div.testid__publisher-quick-action-collapser.forcePublisherQuickActionCollapser",info:["quickActionApiName"]},quickLink:{types:["force:relatedListQuickLinksContainer"]},dropDown:{types:["ui:actionMenuItem","ui:radioMenuItem","force:actionEventLink"],selector:"li.uiMenuItem",info:["id","action.devNameOrId"]},news:{types:["wits:newsPanel"],selector:"div.witsNewsPanel"},recentItems:{types:["flexipage:recentItems"],selector:"div.recentItemsContainer.flexipageRecentItems"},detailPanel:{types:["force:detailPanel"],selector:"div.slds-clearfix.slds-card.forceDetailPanel",info:["isInlineEditMode"]},homeAssistant:{types:["home:assistant"],selector:"div.slds-card.homeAssistant"},recommendations:{types:["forceChatter:recommendations"],selector:"div.forceChatterRecommendationListWidget.forceChatterRecommendations.forceChatterRelatedCardContainer.loaded"},blacklist:{types:["ui:tabBar"]},listViewGrid:{types:["force:listViewManagerPrimaryDisplayManager"],selector:"div.slds-col.slds-no-space.forceListViewManagerPrimaryDisplayManager"},listViewHeader:{types:["force:listViewHeader"],selector:"div.slds-page-header--object-home.slds-page-header_joined.slds-page-header_bleed.slds-page-header.slds-shrink-none.test-headerRegion.forceListViewManagerHeader"},calendarHeader:{types:["force:calendarHeader"],selector:"div.slds-page-header.slds-page-header_joined.forceCalendarHeader"}}}},{}],112:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/typeof"),i=o(r);function o(e){return e&&e.__esModule?e:{"default":e}}var a=window.aura,s=e("./types.js"),l=s.types;function u(e){return a?a.getComponent(e):void 0}function c(e){if(!e)return!0;for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t]&&null!==e[t])return!1;return!0}function p(e,t){for(var n=t.getDef().getAttributeDefs().getNames(),r={},i=0;i<e.length;i++){var o=e[i],a=o.split(".");if(n.indexOf(a[0])!==-1){var s=t.get("v."+a[0]);if(a.length>1)for(var l=1;l<a.length&&(s=s[a[l]],s);l++);s&&(r[o]=s)}}return r}function f(e,t){for(;"one:one"!==t.type;){for(var n=0;n<e.length;n++){var r=e[n];if(t.type===r||l[r]&&l[r].types.includes(t.type))return{comp:t,type:r}}t=d(t)}return}function d(e){if(!e)return;for(var t=e.getOwner(),n=t.getType(),r=void 0;("aura:iteration"===n||"aura:if"===n||t.isInstanceOf("ui:virtualComponent")||t.isInstanceOf("ui:abstractList")||t.isInstanceOf("ui:abstractDataGrid"))&&(t=t.getOwner(),n=t.getType(),t!==r);)r=t;return t}var g=function(){return wmjQuery("div.modal-container > div.modal-body").length},m=function(e){return function(t){if(t)return e(t)}};function h(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n={};for(var r in e){if(n[r])continue;if("object"===(0,i["default"])(e[r])){if("object"!==(0,i["default"])(t[r])||!h(e[r],t[r]))return!1}else if(e[r]!==t[r])return!1;n[r]=!0}for(var o in t){if(n[o])continue;if("object"===(0,i["default"])(t[o])){if("object"!==(0,i["default"])(e[o])||!h(e[o],t[o]))return!1}else if(e[o]!==t[o])return!1}return!0}var v=function b(e,t){for(var n in t){if(wmjQuery.inArray(n,e)!==-1){t[n]=void 0;continue}"object"===(0,i["default"])(t[n])&&b(e,t[n])}return t},y=function _(e,t){for(var n in t){for(var r=0;r<e.length;r++)if(e[r].test(n)){var o=n.replace(e[r],"");t[o]=t[n],t[n]=void 0,n=o}"object"===(0,i["default"])(t[n])&&_(e,t[n])}return t};function w(){return a.get("$Label.SFXReleaseNotes.CurrentReleaseName"),a.get("$Label.SFXReleaseNotes.CurrentReleaseName")}t.exports={clearObj:v,travelToFirstOfTypes:f,getContainer:d,isOpenModal:g,aura:a,getComponent:u,ifNotNull:m,eq:h,getAvailableProps:p,isEmpty:c,removeFromKeys:y,getSfLightningVersion:w}},{"./types.js":111,"babel-runtime/helpers/typeof":9}],113:[function(e,t,n){t.exports={_args:[[{raw:"wm-plugin-salesforce-lightning-find-element@1.0.8",scope:null,escapedName:"wm-plugin-salesforce-lightning-find-element",name:"wm-plugin-salesforce-lightning-find-element",rawSpec:"1.0.8",spec:"1.0.8",type:"version"},"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\993cdd8427c04848bd3b828c5c29a28c\\3"]],_from:"wm-plugin-salesforce-lightning-find-element@1.0.8",_id:"wm-plugin-salesforce-lightning-find-element@1.0.8",_inCache:!0,_location:"/wm-plugin-salesforce-lightning-find-element",_phantomChildren:{},_requested:{raw:"wm-plugin-salesforce-lightning-find-element@1.0.8",scope:null,escapedName:"wm-plugin-salesforce-lightning-find-element",name:"wm-plugin-salesforce-lightning-find-element",rawSpec:"1.0.8",spec:"1.0.8",type:"version"},_requiredBy:["#USER","/"],_resolved:"https://npm.walkmedev.com/wm-plugin-salesforce-lightning-find-element/-/wm-plugin-salesforce-lightning-find-element-1.0.8.tgz",_shasum:"0cfb4b3d606045ad47d5f758c50fb9a3bdf7ee9e",_shrinkwrap:null,_spec:"wm-plugin-salesforce-lightning-find-element@1.0.8",_where:"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\993cdd8427c04848bd3b828c5c29a28c\\3",dependencies:{"babel-runtime":"6.26.0","coffee-script":"^1.12.7","wm-logzio-sender":"1.1.0","wm-prelib-plugin-entry-manager":"0.1.0","wm-sf-common-components":"0.1.1","wm-xpath-utils":"1.0.0"},description:"Identify pages in SalesForce lightning. Save it on ElementDescription for better accuricy.",devDependencies:{"babel-cli":"^6.26.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.24.1","babel-preset-stage-0":"^6.24.1",browserify:"13.3.0",eslint:"4.10.0",grunt:"~0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-copy":"1.0.0","grunt-contrib-watch":"^0.6.1","grunt-git":"^0.3.7","grunt-karma":"0.10.1","grunt-release":"^0.13.0","jasmine-core":"git://github.com/WalkMe/jasmine.git#v2.2.0-wm-0.0.1","jasmine-jquery":"git://github.com/WalkMe/jasmine-jquery.git#v2.1.0-wm-0.0.1",karma:"0.12.31","karma-browserify":"^5.0.5","karma-chrome-launcher":"0.1.8","karma-firefox-launcher":"0.1.4","karma-ie-launcher":"0.1.5","karma-jasmine":"git://github.com/WalkMe/karma-jasmine.git#v0.3.5-wm-0.0.4","karma-junit-reporter":"git://github.com/WalkMe/karma-junit-reporter.git#v0.2.2-wm-0.0.1","karma-phantomjs-launcher":"0.2.0","test-page-loader":"git://github.com/WalkMe/test-page-loader.git#wm-0.0.1",watchify:"^3.7.0","wm-grunt-module-validate":"0.1.2","wm-package-json-validate":"0.1.1","wm-plugins-core":"^2.6.2","wm-tests-helper":"^0.1.8"},dist:{shasum:"0cfb4b3d606045ad47d5f758c50fb9a3bdf7ee9e",tarball:"https://npm.walkmedev.com/wm-plugin-salesforce-lightning-find-element/-/wm-plugin-salesforce-lightning-find-element-1.0.8.tgz"},legoDirectoryName:"c:\\Projects\\lego\\wm-plugin-page-identifier-salesforce-console",main:"dist/main.js",name:"wm-plugin-salesforce-lightning-find-element",optionalDependencies:{},peerDependencies:{},pluginType:"core-product",publishConfig:{registry:"https://npm.walkmedev.com"},readme:"ERROR: No README data found!",readmeFilename:"README.md",scripts:{build:"babel src -d dist && grunt build",lint:"eslint dist",postbuild:"npm run lint",prepublish:"npm run build ",test:"grunt test",validate:"grunt validate-code"},version:"1.0.8",wmCommit:"be4e4862df18201aedf2d42d4fa85f499d54459e",wmLegoProject:"wm-plugin-salesforce-lightning-find-element",wmRepublishDate:"2018-02-27T17:17:19.539Z",wmRepublishOriginalVersion:"1.0.8-qa.7"}},{}],114:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./sfLightningInitUserContext.js").SfLightningInitUserContext;t(new n)})},{"./sfLightningInitUserContext.js":115,"wm-prelib-plugin-entry-manager":140}],115:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("wm-sf-lightning-init-user-context");function o(){var e=this;e.run=t;function t(){return i(window,r())}}n.SfLightningInitUserContext=o},{"wm-prelib-plugin-entry-manager":140,"wm-sf-lightning-init-user-context":156}],116:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("./logger");t.exports={init:u,addResult:g};var o="wm-fe-pi-sfl",a=600,s={},l=!1;function u(){l=Math.random()<.1,l&&(d(),r().get("WindowBeforeUnloadHandler").register(c)),p()}function c(){if(l){var e=y(s);if(e.length>0){i.log("saving to storage",e);var t=r().get("CommonUtils").toJSON(e);f(t)}}}function p(){if(!r().has("BILogger"))return void i.log("no BILogger in ctx");i.log("loading events from storage");var e=r().get("ClientStorageManager").getData(o);f("[]");var t=e?r().get("CommonUtils").secureEvalJSON(e):null;if(t&&t.length>0)for(var n=0;n<t.length;n++)i.log("sending to bi",t[n]),w(t[n])}function f(e){r().get("ClientStorageManager").saveData(o,e,a)}function d(){r().get("UIChangeTracker").bind(function(){m()})}function g(e){l&&r().has("BILogger")&&v(e),i.log("result",e)}function m(){if(l){var e=y(s);if(e.length>0)for(var t=0;t<e.length;t++)e[t]&&e[t].total>0&&(i.log("sending to bi",e[t]),w(e[t]));s={}}}function h(e){return{total:0,count:0,sessionId:"",type:"sfl",key:"pi",name:"result",reason:e}}function v(e){var t=e.reason;s[t]||(s[t]=h(t));var n=s[t];n.total++,n.count+=e.skip?1:0,n.sessionId=n.sessionId||r().get("CommonUtils").toJSON(e.currPage)}function y(e){var t=[];for(var n in e)t.push(e[n]);return t}function w(e){r().has("BILogger")?r().get("BILogger").send("feperf",e):i.log("warn","no BILogger in ctx, can't send message")}},{"./logger":117,"wm-prelib-plugin-entry-manager":140}],117:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=r().get("PrelibLogger");function o(){var e=Array.prototype.slice.call(arguments);e.unshift("[ SfLightningModalFindElement ]"),i.write.apply(i,e)}function a(e){return{errMessage:e.message,errStack:e.stack}}n.log=o,n.errorData=a},{"wm-prelib-plugin-entry-manager":140}],118:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry,i=e("wm-prelib-plugin-entry-manager").getCtx;t.exports=r(function(t){e("./sfModalIdentificationUtils.js"),e("./sfModalFindElementExtender"),e("./sfLightningModalFindElement.js"),t(i().get("SfLightningModalFindElement"))})},{"./sfLightningModalFindElement.js":120,"./sfModalFindElementExtender":121,"./sfModalIdentificationUtils.js":122,"wm-prelib-plugin-entry-manager":140}],119:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=r(),o=(e("./logger").log,"ExtendIdentifySettingsOnCaptureCallbacksArray");t.exports=function(){i.has(o)||i.register(o).asInstance([]),i.get(o).push(e);function e(e){var t=e.ElementDescription.sfModal;return t&&(e.IgnorePageIdentification=0,e.IsValidPageId=1),e}}},{"./logger":117,"wm-prelib-plugin-entry-manager":140}],120:[function(e,t,n){var r=e("./logger.js"),i=e("wm-prelib-plugin-entry-manager").getCtx;i().register("SfLightningModalFindElement").asCtor(o).dependencies("sfModalFindElementExtender"),e("./registerIdentifySettings")();function o(t){var n=this;n.run=s;var o;function a(){o=i().get("EventsListener")}function s(){return u(),l(),null}function l(){o.on("DataLoadedEvent",function(){try{var t=e("./bi-logger.js");t.init()}catch(n){r.log("error","initializing BI Logger",r.errorData(n))}})}function u(){i().get("EventsListener").on("wm_walkmeLibLoaded",function(){r.log("register FindElement plugin"),_walkMe.registerFindElementPlugin(new t),window._walkmeInternals.extendElementDescription=function(e,t){return window._makeTutorial.getFindElementPluginManager().extendDescription(e,t)}})}a()}},{"./bi-logger.js":116,"./logger.js":117,"./registerIdentifySettings":119,"wm-prelib-plugin-entry-manager":140
}],121:[function(e,t,n){var r=e("./logger.js").log,i=e("wm-prelib-plugin-entry-manager").getCtx;i().register("sfModalFindElementExtender").asInstance(a);var o=e("./bi-logger.js").addResult;function a(){var e=this,t="sfModalEntity",n="sfModal",a="sfModalClassName";function s(){this.sfModalIdentificationUtils=i().get("SfModalIdentificationUtils"),this.sfModalIdentificationUtils.init()}function l(e){for(var t in e)if(e[t])return!0;return!1}function u(){var n=e.sfModalIdentificationUtils.getActiveModalEntity(),r=e.sfModalIdentificationUtils.getAuraClass(),i={};return i[t]=n,i[a]=r,i}this.extendDescription=function(e,t){if(r("---------- do extendDescription ----------"),this.sfModalIdentificationUtils.isElementInAModal(e)){var i=u();l(i)&&(t[n]=i,r("extendDescription - valid modal",i))}},this.findElement=function(e,n){r("---------- do findElement ----------");var i=e.ElementDescription,o=p(i);if(!o||!l(o))return c(!0,"desc has no sfModal"),void r("findElement - no data, continue");if(e.IgnorePageIdentification)return c(!0,"ignore page",u);var s=u();if(o[t])return r("findElement - by entity",o[t]),c(f(o[t],s[t]),"by entity",s);if(o[a])return r("findElement - by class name",o[a]),c(d(o[a],s[a]),"by class",s);return c(!1,"findElement - bad data",s),!1};function c(e,t,n){return o({skip:!e,reason:t,pageObj:n}),!!e&&void 0}function p(e){if(e[t]||e[a]){var r=e[n]={};r[t]=e[t],r[a]=e[a]}return e[n]}function f(e,t){if(r("compare modal entity"),"string"==typeof e&&(e={name:e}),!t)return r("findElement - open modal has no entity "),!1;if(void 0!==e.name&&t.name!==e.name)return r("open modal - name does not match"),!1;if(void 0!==e.mode&&e.mode!==t.mode)return r("open modal - mode does not match"),!1;if(void 0!==e.recordTypeSelectorMode&&e.recordTypeSelectorMode!==t.recordTypeSelectorMode)return r("open modal - recordTypeSelectorMode does not match"),!1;if(void 0!==e.filterName&&e.filterName!==t.filterName)return r("open modal - filterName does not match"),!1;if(void 0!==e.targetRelatedListId&&e.targetRelatedListId!==t.targetRelatedListId)return r("open modal - targetRelatedListId does not match"),!1;return r("open modal - match"),!0}function d(e,t){return r("compare modal class"),t===e}s.call(this)}},{"./bi-logger.js":116,"./logger.js":117,"wm-prelib-plugin-entry-manager":140}],122:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;r().register("SfModalIdentificationUtils").asCtor(i);function i(){var e=this;e.isElementInAModal=r,e.getActiveModalEntity=i,e.getAuraClass=o,e.init=n;var t=".modal-container .modal-body > div";function n(){}function r(e){for(var t=wmjQuery(e);!t.is("body");){if(t.hasClass("modal-container"))return!0;t=t.parent()}return!1}function i(){var e,n=wmjQuery(t);if(n.length>0)try{var r=a(n[0]);e={targetRelatedListId:r.get("v.targetRelatedListId"),filterName:r.get("v.filterName"),name:r.get("v.entityApiName"),mode:r.get("v.mode"),layoutMode:r.get("v.layoutMode"),keyPrefix:r.get("v.keyPrefix"),recordTypeSelectorMode:r.get("v.recordTypeSelectorMode")}}catch(i){}for(var o in e)if(e[o])return e;return}function o(){return wmjQuery(t).attr("data-aura-class")}function a(e){var t=s();if(!t)return;for(var n=$A.getComponent(e);n&&!l(n)&&n[t];)n=$A.getComponent(n[t]);var r=l(n);return n?r:void 0}function s(){var e=$A.root,t=$A.root.getElement(),n=$A.getComponent(t);if("1:0"!=e.getGlobalId())return;if("3:0"!=n.getGlobalId())return;var r;for(var i in n){if(!n.hasOwnProperty(i))continue;"2:0"===n[i]&&(r=i)}return r}function l(e){var t=e.getConcreteComponent();if(t===e)return null;return t}}},{"wm-prelib-plugin-entry-manager":140}],123:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t){var n,i=this;function o(){n=e.wrapCustomerLog(r)}i.getType=function(){return"BasicSfVarsRetriever"},i.getUserData=function(){var e={},r=wmjQuery.Deferred();return window.UserContext&&window.UserContext.userId&&window.UserContext.userName&&window.UserContext.language?(e.userId=t.to18CharId(window.UserContext.userId),e.userName=window.UserContext.userName,e.userLanguage=window.UserContext.language,r.resolve(e),n("Gets basic SfVar with basicSfVars feature",1)):r.reject('Can not get sfVars from "basicSfVars" feature'),r.promise()},o.apply(null,arguments)}n.BasicSfVarsRetriever=i},{"wm-prelib-plugin-entry-manager":140}],124:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i,o;function a(){i=e.wrapCustomerLog(r),o=n.get()}this.buildRequestUrl=function(e){if(!e)return;var t,n=window.location.hostname,r=o.Custom.sfVarsCommunityBaseUrl,a=o.Custom.sfVarsCommunityBaseUrlDictionary;return r?(t="https://"+r+e,i("buildRequestUrl - with custom community base url "+t,1)):a&&a[n]?(t="https://"+a[n]+e,i("buildRequestUrl - with custom community base url dictionary "+t,1)):window.UserContext&&window.UserContext.siteUrlPrefix?(t="https://"+n+window.UserContext.siteUrlPrefix+e,i("buildRequestUrl - with regular community url plus siteUrlPrefix "+t,1)):(t="https://"+n+e,i("buildRequestUrl - with regular community url "+t,1)),i("Community sfVars endpoint - "+t,1),t},a.apply(null,arguments)}n.CommunitySfVarsUrlBuilder=i},{"wm-prelib-plugin-entry-manager":140}],125:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n){var o,a,s=this;s.getType=function(){return"LegacySfVarsRetriever"},s.getUserData=function(e){return a=wmjQuery.Deferred(),t.injectSFConnection(function(){l(e)},function(){a.reject()}),a.promise()};function l(t){var n,i,s,l=null;try{var p=r().get("SalesForceConnection");n=p.getSforce().connection.getUserInfo()}catch(d){o(d,5),l=d.message||d}try{i=f(e.get()),s=u(n.userId,i),s=s&&s[0]||[]}catch(d){o(d,5),l||(l=d.message||d)}try{var g=c(n,t,s,i||[]);a.resolve(g)}catch(d){o(d,5),l||(l=d.message||d),a.reject(l)}}function u(e,t){if(t&&t.length>0){var n="Select "+t.join(",")+" From User Where Id = '"+e+"'",i=r().get("SalesForceConnection"),o=i.getSforce().connection.query(n);return o.getArray("records")}}function c(e,t,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o];i[a]=e[a]}for(var o=0;o<r.length;o++)p(r[o],n,i);return i}function p(e,t,n){for(var r=t,i=e.split("."),o=0;o<i.length;o++){if(""===i[o])return;if(r=r&&r[i[o]],null===r&&o==i.length-1)return void(n[i[o]]=null);"object"==typeof r?(n[i[o]]={},n=n[i[o]]):n[i[o]]=r}}function f(e){var t=e.Settings.sfCustomVars;return t||[]}function d(){o=n.wrapCustomerLog(i)}d.apply(null,arguments)}n.LegacySfVarsRetriever=o},{"wm-prelib-plugin-entry-manager":140}],126:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o){var a,s;function l(){a=e.wrapCustomerLog(r),s=n.get()}this.buildRequestUrl=function(e){if(!e)return;var t,n,r=window.location.hostname,i=s.Custom.sfVarsLightningBaseUrl,o=s.Custom.sfVarsLightningBaseUrlDictionary;return window.UserContext&&window.UserContext.vfDomainPattern&&(a("buildRequestUrl - window.UserContext.vfDomainPattern = ",window.UserContext.vfDomainPattern),n=window.UserContext.vfDomainPattern.replace("(?:[^.]+)*","wm4sf3").replace("(?:[^.]+)","wm4sf3")),i?(t="https://"+i+e,a("buildRequestUrl - with custom lightning base url "+t,1)):o&&o[r]?(t="https://"+o[r]+e,a("buildRequestUrl - with custom lightning base url dictionary "+t,1)):n&&(t="https://"+n+e,a("buildRequestUrl - base vfDomainPattern, the url is "+t,1)),a("Lightning sfVars endpoint - "+t,1),t},l.apply(null,arguments)}n.LightningSfVarsUrlBuilder=i},{"wm-prelib-plugin-entry-manager":140}],127:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a){var s,l,u,c,p,f,d,g=this,m={},h=!1,v=14400,y=1e4,w=500,b="walkme-sf-vars-last-fail",_="walkme-sf-vars-iframe",E="wm-sf-vars-proxy",S={SKIP_AFTER_FAILURE:"skip loading due to a failure in the last 4 hours",VARS_LIST_EMPTY:"list to extract was empty",DATA_HAS_NO_VAL:"nonLegacy sfVars postback data was ",IFRAME_CREATED_TIMEOUT:"10 seconds passed since iframe was created",IFRAME_LOADED_TIMEOUT:"0.5 seconds passed since iframe was loaded",FAIL_FIND_SALESFORCE_NAME:"Couldn't determine endpoint for more than 7 seconds"};function C(){l=e.wrapCustomerLog(r)}g.getType=function(){return"NonLegacySfVarsRetriever"},g.getUserData=function(e){return s=wmjQuery.Deferred(),x()?s.reject(S.SKIP_AFTER_FAILURE):(e=a.extractUserContextVars(e,m),e=a.mapLegacyToNonLegacyVars(e),e.length?A(e.join(",")):s.reject(S.VARS_LIST_EMPTY)),s.promise()};function x(){var e=i.getData(b);return!!e}function A(e){var t=o.getCurrentSfEnvironment();"legacy"==t&&(t="lightning");var n=o.getAppEndpointByEnvironment(t),r=o.getUrlBuilderByEnvironment(t),i=n+"?sfVars="+e,a=r.buildRequestUrl(i);a?(l("SfVars endpoint - "+a),R(),N(a,T,j)):(L(),s.reject(S.FAIL_FIND_SALESFORCE_NAME))}function N(e,n,r){function i(){c=t.registerEventHandler("message",r,!1,p.contentWindow||p.window),u=t.createIframe(e,_,!1,n,void 0,wmjQuery(p).contents().find("body")[0])}p=t.createIframe("about:blank",E,!1,i)}function T(){l("sfVars Non-Legacy iframe loaded",3),f&&f.clear&&f.clear();var e=O(S.IFRAME_LOADED_TIMEOUT);d=n.libSetTimeout(e,w)}function R(){l("Finished creating iframe",3);var e=O(S.IFRAME_CREATED_TIMEOUT);f=n.libSetTimeout(e,y)}function j(e){if(h)return;var n;try{n=t.secureEvalJSON(e.data)}catch(r){return void l("sfVars reciver unknown message: error="+r.message,5)}if(!n||!n.attributes||"User"!==n.attributes.type)return;h=!0,c&&c(),p&&wmjQuery(p).remove(),d&&d.clear&&d.clear(),n=a.mapNonLegacyDataToLegacy(n),wmjQuery.extend(!0,m,n),s.resolve(m)}function L(){k()||i.saveData(b,(new Date).getTime(),v)}function k(){return"pending"!==s.state()}function O(e){return function(){t.removeIframeListeners(u,"message",j),L(),s.reject(e)}}C.apply(null,arguments)}n.NonLegacySfVarsRetriever=i},{"wm-prelib-plugin-entry-manager":140}],128:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i=window,o={},a=n.wrapCustomerLog(r),s=!1,l="undefined"!=typeof i.UserContext?i.UserContext:{siteUrlPrefix:"",getUrl:function(e){if("undefined"==typeof e||"undefined"==typeof l.siteUrlPrefix||!l.siteUrlPrefix)return e;if(0!=e.indexOf("/"))return e;if(0==e.indexOf(l.siteUrlPrefix))return e;return l.siteUrlPrefix+e}};this.getSforce=function(){if(s)return o;return null},o.internal={},o.StringBuffer=function(){this.buffer=[],this.append=function(e){return this.buffer.push(e),this},this.toString=function(){return this.buffer.join("")}},o.Base64Binary=function(e){this.input=e},o.Base64Binary.prototype.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o.Base64Binary.prototype.toString=function(){var e,t,n,r,i,o=[],a="",s="",l=0;do e=this.input.charCodeAt(l++),t=this.input.charCodeAt(l++),a=this.input.charCodeAt(l++),n=e>>2,r=(3&e)<<4|t>>4,i=(15&t)<<2|a>>6,s=63&a,isNaN(t)?i=s=64:isNaN(a)&&(s=64),o.push(this.keyStr.charAt(n)+this.keyStr.charAt(r)+this.keyStr.charAt(i)+this.keyStr.charAt(s)),e=t=a="",n=r=i=s="";while(l<this.input.length);return o.join("")},o.Base64Binary.prototype.decode=function(e){var t,n,r,i,o,s=[],l="",u="",c=0,p=/[^A-Za-z0-9\+\/\=]/g;p.exec(e)&&a("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/', and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.keyStr.indexOf(e.charAt(c++)),i=this.keyStr.indexOf(e.charAt(c++)),o=this.keyStr.indexOf(e.charAt(c++)),u=this.keyStr.indexOf(e.charAt(c++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,l=(3&o)<<6|u,s.push(String.fromCharCode(t)),64!=o&&s.push(String.fromCharCode(n)),64!=u&&s.push(String.fromCharCode(l)),t=n=l="",r=i=o=u="";while(c<e.length);return s.join("")},o.internal.dateToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return n+"-"+r+"-"+i},o.internal.dateTimeToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getTimezoneOffset(),u=l<0?"+":"-";l=Math.abs(l);var c=l/60,p=l%60;s<=9&&(s="0"+s);var f=t.getMilliseconds();0!==f&&(f="."+f,f.length>4&&(f=f.substring(0,4)),s+=f);var d;return 0===l?d="Z":(p<10&&(p="0"+p),c<10&&(c="0"+c),d=u+c+":"+p),r<=9&&(r="0"+r),i<=9&&(i="0"+i),o<=9&&(o="0"+o),a<=9&&(a="0"+a),n+"-"+r+"-"+i+"T"+o+":"+a+":"+s+d},o.internal.stringToDate=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),10!=e.length)throw"Unable to parse date, "+e+" length != 10";if("-"!=e.charAt(4)||"-"!=e.charAt(7))throw"Unable to parse date";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),o=new Date(n,r-1,i,0,0,0);return o.setMilliseconds(0),o},o.internal.stringToDateTime=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),e.length<19)throw"Unable to parse dateTime";if("-"!=e.charAt(4)||"-"!=e.charAt(7)||"T"!=e.charAt(10))throw"Unable to parse dateTime";if(":"!=e.charAt(13)||":"!=e.charAt(16))throw"Unable to parse dateTime";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),a=e.substring(11,13),s=e.substring(14,16),l=e.substring(17,19),u=new Date(n,r-1,i,a,s,l),c=19;if(c<e.length&&"."==e.charAt(c)){for(var p=0,f=++c;c<e.length&&o.internal.isDigit(e.charAt(c));)c++;var d=e.substring(f,c);3==d.length?p=d:d.length<3?p=(d+"000").substring(0,3):(p=d.substring(0,3),d.charAt(3)>="5"&&++p),u.setMilliseconds(p)}var g=6e4*u.getTimezoneOffset();if(c+5<e.length&&("+"==e.charAt(c)||"-"==e.charAt(c))){if(!(o.internal.isDigit(e.charAt(c+1))&&o.internal.isDigit(e.charAt(c+2))&&":"==e.charAt(c+3)&&o.internal.isDigit(e.charAt(c+4))&&o.internal.isDigit(e.charAt(c+5))))throw"Unable to parse dateTime";var m=10*(e.charAt(c+1)-"0")+e.charAt(c+2)-"0",h=10*(e.charAt(c+4)-"0")+e.charAt(c+5)-"0",v=60*(60*m+h)*1e3;"+"==e.charAt(c)&&(v=-v),u=new Date(u.getTime()-g+v),c+=6}if(c<e.length&&"Z"==e.charAt(c)&&(c++,u=new Date(u.getTime()-g)),c<e.length)throw"Unable to parse dateTime";return u},o.internal.isDigit=function(e){return"0"==e||"1"==e||"2"==e||"3"==e||"4"==e||"5"==e||"6"==e||"7"==e||"8"==e||"9"==e},o.Xml=function(e){},o.Xml.prototype.toXml=function(e,t,n){n.writeStartElement(t,e),this._xsiType&&n.writeXsiType(this._xsiType);for(var r in this)if("_name"==r||"_xsiType"==r);else{var i=this[r];if("function"!=typeof i)if("array"==typeof i)for(var o=0;o<i.length;o++)this.writeValue(e,n,r,i[o]);else this.writeValue(e,n,r,i)}n.writeEndElement(t,e)},o.Xml.prototype.writeValue=function(e,t,n,r){if(null===r)return void t.writeNameValueNode("fieldsToNull",n);if("undefined"==typeof r)return;r.toXml?r.toXml(e,n,t):t.writeNameValueNode(n,r)},o.Xml.prototype.get=function(e){return this[e]?this[e]:null},o.Xml.prototype.set=function(e,t){this[e]=t},o.Xml.prototype.getArray=function(e){var t=this[e];return t?t.join?t:[t]:[]},o.Xml.prototype.getBoolean=function(e){return"true"==this[e]},o.Xml.prototype.getDate=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDate(this[e]):null},o.Xml.prototype.getDateTime=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDateTime(this[e]):null},o.Xml.prototype.getInt=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseInt(this[e],10);throw"Unable to parse int field: "+e},o.Xml.prototype.getFloat=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseFloat(this[e]);throw"Unable to parse float field: "+e},o.Xml.prototype.getBase64Binary=function(e){if(this[e])return o.Base64Binary.prototype.decode(this[e]);throw"Unable to parse base64Binary field: "+e},o.Xml.prototype.toString=function(){var e=new o.StringBuffer;e.append("{");for(var t in this){var n=this[t];if(n)if("object"==typeof n)e.append(t).append(":").append(n.toString());else if(n.join){e.append(t).append(":").append("[");for(var r=0;r<n.length;r++)e.append(n[r]),r<n.length-1&&e.append(", ");e.append("]")}else{if("function"==typeof n)continue;e.append(t).append(":").append("'"+n+"'")}else e.append(t).append(":").append(""+n);e.append(", ")}return e.append("}"),e.toString()},o.internal.Debug=function(){this.output=null,this.trace=!1,this.apexTrace=!1,this.win=null,this.traceQueue=[],this.quiet=!1,this.open=function(){this.println("","print")},this.println=function(e,t){if(this.quiet)return;if("function"==typeof println)return void println(e,t);null!==this.win&&this.win.document||(this.output=null,this.win=i.open("undefined"!=typeof i.UserContext?l.getUrl("/soap/ajax/29.0/debugshell.html"):"/soap/ajax/29.0/debugshell.html","","width=800,height=400,toolbar=no,location=no,directories=no,alwaysRaised=yes,status=no,menubar=no,scrollbars=yes,copyhistory=yes,resizable=yes")),null===this.output&&this.findOutput(),null!==this.output?(o.debug.traceQueue.length>0&&this.traceCallback(),this.win.println(e,t)):(o.debug.traceQueue.push({message:e,type:t}),setTimeout(o.debug.traceCallback,1e3))},this.traceCallback=function(){if(o.debug.findOutput(),null===o.debug.output)return void setTimeout(o.debug.traceCallback,1e3);for(var e=0;e<o.debug.traceQueue.length;e++){var t=o.debug.traceQueue[e];o.debug.win.println(t.message,t.type)}o.debug.traceQueue=[]},this.findOutput=function(){return null===this.output&&(this.output=this.win.document.getElementById("output")),this.output},this.logXml=function(e){e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e="<textarea cols=80 rows=5 wrap=hard>"+e+"</textarea>",this.println(e,"printxml")},this.log=function(e){this.println(e,"print")},this.logApex=function(e){var t=e.indexOf("<debugLog>"),n=e.indexOf("</debugLog>");t===-1?t=0:t+="<debugLog>".length,n===-1&&(n=e.length);var r=e.substring(t,n);this.println(r,"printxml")}},o.debug=new o.internal.Debug,o.internal._connections=[],o.internal.ConnectionHolder=function(e,t){this.connection=e,this.callback=t,this.timedout=!1},o.Transport=function(e){this.url=e,this.connection=null,this.newConnection=function(){try{this.connection=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.connection=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.connection=new XMLHttpRequest}}return this.connection},this.send=function(e,t,n,r){this.newConnection(),n&&(this.connection.onreadystatechange=this.httpConnectionCallback);var i=new o.internal.ConnectionHolder(this.connection,t);o.internal._connections.push(i),this.connection.open("POST",this.url,n),this.connection.setRequestHeader("Content-Type","text/xml; charset=UTF-8"),this.connection.setRequestHeader("SOAPAction",'""'),this.connection.setRequestHeader("Accept","text/xml"),this.connection.send(e),n&&"undefined"!=typeof r&&this.setTimeoutOn(i,r),n||this.httpConnectionCallback()},this.setTimeoutOn=function(e,t){function n(){4!==e.connection.readyState&&(e.timedout=!0,e.connection.abort())}setTimeout(n,t)},this.httpConnectionCallback=function(){for(var e=0;e<o.internal._connections.length;e++){var t=o.internal._connections[e];if(null!==t)if(t.timedout)o.internal._connections[e]=null,o.internal._connections.slice(e,1),t.callback.httpCallback("Remote invocation timed out",!1);else if(4==t.connection.readyState){o.internal._connections[e]=null,o.internal._connections.slice(e,1);var n=200==t.connection.status;o.debug.trace&&(o.debug.log("Response : status - "+t.connection.status),o.debug.logXml(t.connection.responseText)),o.debug.apexTrace&&o.debug.logApex(t.connection.responseText),t.connection.responseXML&&t.connection.responseXML.documentElement?t.callback.httpCallback(t.connection.responseXML.documentElement,n):t.callback.httpCallback("Remote invocation failed, due to: "+t.connection.responseText+" status code: ",t.connection.status)}}}},o.XmlWriter=function(){this.buffer=new o.StringBuffer,this.namespaces={},this.prefixCount=0,this.writingStartElement=!1},o.XmlWriter.prototype.writeStartElement=function(e,t,n){this.writingStartElement&&this.buffer.append(">"),this.buffer.append("<");var r=!1;t&&(this.namespaces[t]||""===this.namespaces[t]||(r=!0),n||(n=this.getPrefix(t)),null!==n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))),this.buffer.append(e),r===!0&&this.writeNamespace(t,n),this.writingStartElement=!0},o.XmlWriter.prototype.writeEndElement=function(e,t){if(this.writingStartElement)this.buffer.append("/>");else{if(this.buffer.append("</"),t){var n=this.getPrefix(t);n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))}this.buffer.append(e),this.buffer.append(">")}this.writingStartElement=!1},o.XmlWriter.prototype.writeNamespace=function(e,t){t&&""!==t?(this.namespaces[e]=t,this.buffer.append(" "),this.buffer.append("xmlns:"),this.buffer.append(t)):(this.namespaces[e]="",this.buffer.append(" "),this.buffer.append("xmlns")),this.buffer.append('="'),this.buffer.append(e),this.buffer.append('"')},o.XmlWriter.prototype.writeText=function(e){if(!this.writingStartElement)throw"Can only write text after a start element";this.buffer.append(">"),this.writingStartElement=!1,"string"==typeof e&&(e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")),this.buffer.append(e)},o.XmlWriter.prototype.writeXsiType=function(e){this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:type",e)},o.XmlWriter.prototype.writeAttribute=function(e,t){this.buffer.append(" "+e+'="'+t+'"')},o.XmlWriter.prototype.getPrefix=function(e){var t=this.namespaces[e];if(!t&&""!==t)return t="ns"+this.prefixCount,this.prefixCount++,this.namespaces[e]=t,t;return t},o.XmlWriter.prototype.toString=function(){return this.buffer.toString()},o.XmlWriter.prototype.soapNS="http://schemas.xmlsoap.org/soap/envelope/",o.XmlWriter.prototype.startEnvelope=function(){this.writeStartElement("Envelope",this.soapNS,"se")},o.XmlWriter.prototype.endEnvelope=function(){this.writeEndElement("Envelope",this.soapNS)},o.XmlWriter.prototype.startHeader=function(){this.writeStartElement("Header",this.soapNS,"se")},o.XmlWriter.prototype.endHeader=function(){this.writeEndElement("Header",this.soapNS)},o.XmlWriter.prototype.startBody=function(){this.writeStartElement("Body",this.soapNS,"se")},o.XmlWriter.prototype.endBody=function(){this.writeEndElement("Body",this.soapNS)},o.XmlWriter.prototype.writeNameValueNode=function(e,t){if(null===t)return this.writeStartElement(e),this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:nill","true"),void this.writeEndElement(e);if(t.toUTCString&&(t=o.internal.dateTimeToString(t)),"boolean"==typeof t&&(t=t?"true":"false"),t&&t.join)for(var n=0;n<t.length;n++)this.writeStartElement(e),this.writeText(t[n]),this.writeEndElement(e);else this.writeStartElement(e),this.writeText(t),this.writeEndElement(e)},o.XmlReader=function(e){this.envelope=e},o.XmlReader.prototype.getEnvelope=function(){if(this.isTag("Envelope",this.envelope))return this.envelope;throw"Unable to find soap envelope, but found "+this.envelope.nodeName},o.XmlReader.prototype.getBody=function(){return this.getChild("Body",this.envelope)},o.XmlReader.prototype.getHeader=function(){return this.getChild("Header",this.envelope)},o.XmlReader.prototype.getChild=function(e,t){for(var n=t.childNodes,r=0;r<n.length;r++)if(1==n[r].nodeType&&this.isTag(e,n[r]))return n[r];return null},o.XmlReader.prototype.getFirstElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(1==t[n].nodeType)return t[n];return null},o.XmlReader.prototype.isTag=function(e,t){var n=t.nodeName.split(":");if(2==n.length&&n[1]==e)return!0;if(1==n.length&&n[0]==e)return!0;return!1},o.XmlReader.prototype.isNameValueNode=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(3!=t[n].nodeType)return!1;return!0},o.XmlReader.prototype.getTextValue=function(e){if(3==e.nodeType)return e.nodeValue;var t=e.getAttribute("xsi:nil");if("true"==t)return null;for(var n="",r=e.childNodes,i=0;i<r.length;i++){if(3!=r[i].nodeType)throw"Not a simple name value node";n+=r[i].nodeValue}return n},o.XmlReader.prototype.toXmlObject=function(e){var t=e.getAttribute("xsi:nil");if("true"==t)return null;var n=new o.Xml,r=[];for(r.push({node:e,obj:n});r.length>0;)for(var i=r.shift(),a=i.node.firstChild;null!==a;a=a.nextSibling){if(1!=a.nodeType)continue;var s=a.nodeName,l=s.indexOf(":");s=l==-1?s:s.substring(l+1);for(var u,c=!0,p="",f=a.firstChild;null!==f;f=f.nextSibling){if(3!=f.nodeType){c=!1;break}p+=f.nodeValue}if(c?u="true"==a.getAttribute("xsi:nil")?null:p:(u=new o.Xml,r.push({node:a,obj:u})),i.obj[s])if(i.obj[s].push)i.obj[s].push(u);else{var d=i.obj[s];"Id"===s&&d===u||(i.obj[s]=[],i.obj[s].push(d),i.obj[s].push(u))}else i.obj[s]=u}return n},o.SoapTransport=function(){this.connectionCallback=null,this.result=null,this.fault=null,this.isAsync=!0,this.isArray=!1},o.SoapTransport.prototype.onFailure=function(e,t){var n="ERROR: ........... ";a(n+e),this.result=null},o.SoapTransport.prototype.send=function(e,t,n,r){this.isArray=n;var i=new o.Transport(e);if(this.isAsync=!!r,!this.isAsync){if(i.send(t.toString(),this,this.isAsync),null!==this.fault)throw this.fault;return this.result}this.connectionCallback=r,i.send(t.toString(),this,this.isAsync,r.timeout)},o.SoapTransport.prototype.httpCallback=function(e,t){try{if(t===!0){var n=new o.XmlReader(e),r=(n.getEnvelope(),n.getBody()),i=n.getFirstElement(r);if(null===i)throw"Unable to find operation response element";for(var a=[],s=i.childNodes,l=0;l<s.length;l++){if(1!=s[l].nodeType)continue;n.isNameValueNode(s[l])?a.push(n.getTextValue(s[l])):a.push(n.toXmlObject(s[l]))}if(this.isArray)this.result=a;else{if(a.length>1)throw"Found more than one response: "+a;this.result=a[0]}if(this.isAsync)try{if(this.beforeCallback(),"function"==typeof this.connectionCallback)this.connectionCallback(this.result);else{if(!this.connectionCallback.onSuccess)throw"Unable to find onSuccess method in the callback object";this.connectionCallback.onSuccess(this.result,this.connectionCallback.source)}}finally{this.afterCallback()}}else if("undefined"!=typeof e.nodeName){var u=new o.XmlReader(e),c=(u.getEnvelope(),u.getBody()),p=u.getFirstElement(c),f=u.toXmlObject(p);this.sendFault(f)}else this.sendFault(e)}catch(d){this.sendFault(d)}},o.SoapTransport.prototype.sendFault=function(e){if(this.isAsync)if(this.connectionCallback.onFailure)try{this.beforeCallback(),this.connectionCallback.onFailure(e,this.connectionCallback.source)}finally{this.afterCallback()}else this.onFailure(e);else this.fault=e},o.SoapTransport.prototype.beforeCallback=function(){},o.SoapTransport.prototype.afterCallback=function(){},o.SObject=function(e){this.type=e},o.SObject.prototype=new o.Xml("sObjects"),o.LeadConvert=function(){},o.LeadConvert.prototype=new o.Xml("leadConverts"),o.MergeRequest=function(){},o.MergeRequest.prototype=new o.Xml("request"),o.QuickAction=function(){},o.QuickAction.prototype=new o.Xml("quickActions"),o.Connection=function(){this.sessionId=null,this.updateMru=null,this.allowFieldTruncation=null,this.disableFeedTracking=null,this.streamingEnabled=null,this.allOrNone=null,this.client=null,this.defaultNamespace=null,this.batchSize=null,this.loginScopeHeader=null,this.emailHeader=null,this.assignmentRuleHeader=null,this.transferToUserId=null,this.debuggingHeader=null,this.serverUrl="undefined"!=typeof i.UserContext?l.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0"},o.internal.Parameter=function(e,t,n){this.name=e,this.value=t,this.isArray=n},o.Connection.prototype.sforceNs="urn:partner.soap.sforce.com",o.Connection.prototype.sobjectNs="sobject.partner.soap.sforce.com",o.Connection.prototype.writeOne=function(e,t,n,r){null===n?e.writeNameValueNode(t,null):n.toXml?n.toXml(r,t,e):e.writeNameValueNode(t,n)},o.Connection.prototype.init=function(e,t){this.sessionId=e,this.serverUrl=t},o.Connection.prototype.login=function(e,t){var n=new o.internal.Parameter("username",e,(!1)),r=new o.internal.Parameter("password",t,(!1)),i=this.invoke("login",[n,r],!1,null);return this.sessionId=i.sessionId,i},o.Connection.prototype.describeSObject=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!1));return this.invoke("describeSObject",[n],!1,t)},o.Connection.prototype.describeSObjects=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!0));return this.invoke("describeSObjects",[n],!0,t)},o.Connection.prototype.describeGlobal=function(e){return this.invoke("describeGlobal",[],!1,e)},o.Connection.prototype.describeLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeLayout",[r,i],!1,n)},o.Connection.prototype.describeAvailableQuickActions=function(e,t){var n=new o.internal.Parameter("parentType",e,(!1));return this.invoke("describeAvailableQuickActions",[n],!0,t)},o.Connection.prototype.describeQuickActions=function(e,t){var n=new o.internal.Parameter("quickActionNames",e,(!0));return this.invoke("describeQuickActions",[n],!0,t)},o.Connection.prototype.performQuickActions=function(e,t){var n=new o.internal.Parameter("quickActions",e,(!0));return this.invoke("performQuickActions",[n],!0,t)},o.Connection.prototype.describeCompactLayouts=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeCompactLayouts",[r,i],!1,n)},o.Connection.prototype.describeTabs=function(e){return this.invoke("describeTabs",[],!0,e)},o.Connection.prototype.describeFlexiPages=function(e,t){var n=new o.internal.Parameter("FlexiPage",e,(!1));return this.invoke("describeFlexiPages",[n],!0,t)},o.Connection.prototype.describeTheme=function(e,t){var n=new o.internal.Parameter("themeNames",e,(!0));return this.invoke("describeTheme",[n],!0,t)},o.Connection.prototype.describeGlobalTheme=function(e){return this.invoke("describeGlobalTheme",[],!0,e)},o.Connection.prototype.describeSoftphoneLayout=function(e){return this.invoke("describeSoftphoneLayout",[],!1,e)},o.Connection.prototype.describeMiniLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1)),i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeMiniLayout",[r,i],!1,n)},o.Connection.prototype.describeSearchScopeOrder=function(e){return this.invoke("describeSearchScopeOrder",[],!0,e)},o.Connection.prototype.create=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("create",[n],!0,t)},o.Connection.prototype.update=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("update",[n],!0,t)},o.Connection.prototype.upsert=function(e,t,n){var r=new o.internal.Parameter("externalIDFieldName",e,(!1)),i=new o.internal.Parameter("sObjects",t,(!0));return this.invoke("upsert",[r,i],!0,n)},o.Connection.prototype.deleteIds=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("delete",[n],!0,t)},o.Connection.prototype.impersonateUser=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("impersonateUser",[n],!0,t)},o.Connection.prototype.query=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("query",[n],!1,t)},o.Connection.prototype.queryAll=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("queryAll",[n],!1,t)},o.Connection.prototype.queryMore=function(e,t){var n=new o.internal.Parameter("queryLocator",e,(!1));return this.invoke("queryMore",[n],!1,t)},o.Connection.prototype.retrieve=function(e,t,n,r){var i=new o.internal.Parameter("fieldList",e,(!1)),a=new o.internal.Parameter("sObjectType",t,(!1)),s=new o.internal.Parameter("ids",n,(!0));return this.invoke("retrieve",[i,a,s],!0,r)},o.Connection.prototype.getUserInfo=function(e){return this.invoke("getUserInfo",[],!1,e)},o.Connection.prototype.resetPassword=function(e,t){var n=new o.internal.Parameter("userId",e,(!1));return this.invoke("resetPassword",[n],!1,t)},o.Connection.prototype.setPassword=function(e,t,n){var r=new o.internal.Parameter("userId",e,(!1)),i=new o.internal.Parameter("password",t,(!1));return this.invoke("setPassword",[r,i],!1,n);
},o.Connection.prototype.search=function(e,t){var n=new o.internal.Parameter("searchString",e,(!1));return this.invoke("search",[n],!1,t)},o.Connection.prototype.getDeleted=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getDeleted",[i,a,s],!1,r)},o.Connection.prototype.getUpdated=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getUpdated",[i,a,s],!1,r)},o.Connection.prototype.getServerTimestamp=function(e){return this.invoke("getServerTimestamp",[],!1,e)},o.Connection.prototype.convertLead=function(e,t){var n=new o.internal.Parameter("leadConverts",e,(!0));return this.invoke("convertLead",[n],!0,t)},o.Connection.prototype.merge=function(e,t){var n=new o.internal.Parameter("request",e,(!0));return this.invoke("merge",[n],!0,t)},o.Connection.prototype.undelete=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("undelete",[n],!0,t)},o.Connection.prototype.process=function(e,t){var n=new o.internal.Parameter("actions",e,(!0));return this.invoke("process",[n],!0,t)},o.Connection.prototype.sendEmail=function(e,t){var n=new o.internal.Parameter("messages",e,(!0));return this.invoke("sendEmail",[n],!0,t)},o.Connection.prototype.emptyRecycleBin=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("emptyRecycleBin",[n],!0,t)},o.Connection.prototype.invalidateSessions=function(e,t){var n=new o.internal.Parameter("sessionIds",e,(!0));return this.invoke("invalidateSessions",[n],!0,t)},o.Connection.prototype.logout=function(e){return this.invoke("logout",[],!0,e)},o.Connection.prototype.remoteFunction=function(e){if(!e.url)throw"url not defined";if(!e.onSuccess)throw"onSuccess method not defined";if(e.method||(e.method="GET"),e.mimeType||(e.mimeType="text/plain"),"undefined"==typeof e.async&&(e.async=!0),"undefined"==typeof e.cache&&(e.cache=!1),"text/plain"!=e.mimeType&&"text/xml"!=e.mimeType)throw"Unknown mime type "+e.mimeType;o.debug.trace&&o.debug.log("Open connection to ... "+e.url);var t=(new o.Transport).newConnection(),n="undefined"!=typeof i.UserContext?l.getUrl("/services/proxy"):"/services/proxy";if(n=e.cache?n+"?end-point-url="+e.url:n+"?no-cache="+(new Date).getTime(),t.open(e.method,n,e.async),e.requestHeaders)for(var r in e.requestHeaders)"function"!=typeof e.requestHeaders[r]&&t.setRequestHeader(r,e.requestHeaders[r]);t.setRequestHeader("SalesforceProxy-Endpoint",e.url),t.setRequestHeader("SalesforceProxy-SID",this.sessionId),e.async&&(t.onreadystatechange=a),o.debug.trace&&o.debug.log("Sending ..."),e.requestData?t.send(e.requestData):t.send(null),o.debug.trace&&o.debug.log("Done Sending ..."),e.async||a();function a(){if(o.debug.trace&&o.debug.log("callback called ..."),4==t.readyState)if(200==t.status)if("text/plain"==e.mimeType)e.onSuccess(t.responseText,t);else{if("text/xml"!=e.mimeType)throw"unsupported mime type: "+e.mimeType;if(!t.responseXML||!t.responseXML.documentElement)throw"Response not text/xml mime type: "+t.responseText;e.onSuccess(t.responseXML.documentElement,t)}else e.onFailure?e.onFailure(t.responseText,t):o.debug.log(t.responseText)}},o.Connection.prototype.writeHeader=function(e,t){if(e.startHeader(),e.writeNamespace(t,"sfns"),null!==this.sessionId&&(e.writeStartElement("SessionHeader",t),e.writeNameValueNode("sessionId",this.sessionId),e.writeEndElement("SessionHeader",t)),"undefined"!=typeof this.organizationId)throw"Use sforce.connection.loginScopeHeader.organizationId instead of sforce.connection.organizationId";if(null!==this.loginScopeHeader&&(e.writeStartElement("LoginScopeHeader",t),null!==this.loginScopeHeader.organizationId&&e.writeNameValueNode("organizationId",this.loginScopeHeader.organizationId),null!==this.loginScopeHeader.portalId&&e.writeNameValueNode("portalId",this.loginScopeHeader.portalId),e.writeEndElement("LoginScopeHeader",t)),null===this.client&&null===this.defaultNamespace||(e.writeStartElement("CallOptions",t),null!==this.client&&e.writeNameValueNode("client",this.client),null!==this.defaultNamespace&&e.writeNameValueNode("defaultNamespace",this.defaultNamespace),e.writeEndElement("CallOptions",t)),null!==this.batchSize&&(e.writeStartElement("QueryOptions",t),e.writeNameValueNode("batchSize",this.batchSize),e.writeEndElement("QueryOptions",t)),null!==this.allowFieldTruncation&&(e.writeStartElement("AllowFieldTruncationHeader",t),e.writeNameValueNode("allowFieldTruncation",this.allowFieldTruncation),e.writeEndElement("AllowFieldTruncationHeader",t)),null!==this.disableFeedTracking&&(e.writeStartElement("DisableFeedTrackingHeader",t),e.writeNameValueNode("disableFeedTracking",this.disableFeedTracking),e.writeEndElement("DisableFeedTrackingHeader",t)),null!==this.streamingEnabled&&(e.writeStartElement("StreamingEnabledHeader",t),e.writeNameValueNode("StreamingEnabled",this.streamingEnabled),e.writeEndElement("StreamingEnabledHeader",t)),null!==this.allOrNone&&(e.writeStartElement("AllOrNoneHeader",t),e.writeNameValueNode("allOrNone",this.allOrNone),e.writeEndElement("AllOrNoneHeader",t)),null!==this.updateMru&&(e.writeStartElement("MruHeader",t),e.writeNameValueNode("updateMru",this.updateMru),e.writeEndElement("MruHeader",t)),null!==this.emailHeader&&(e.writeStartElement("EmailHeader",t),this.emailHeader.triggerAutoResponseEmail&&e.writeNameValueNode("triggerAutoResponseEmail",this.emailHeader.triggerAutoResponseEmail),this.emailHeader.triggerOtherEmail&&e.writeNameValueNode("triggerOtherEmail",this.emailHeader.triggerOtherEmail),this.emailHeader.triggerUserEmail&&e.writeNameValueNode("triggerUserEmail",this.emailHeader.triggerUserEmail),e.writeEndElement("EmailHeader",t)),null!==this.assignmentRuleHeader&&(e.writeStartElement("AssignmentRuleHeader",t),this.assignmentRuleHeader.assignmentRuleId&&e.writeNameValueNode("assignmentRuleId",this.assignmentRuleHeader.assignmentRuleId),this.assignmentRuleHeader.useDefaultRule&&e.writeNameValueNode("useDefaultRule",this.assignmentRuleHeader.useDefaultRule),e.writeEndElement("AssignmentRuleHeader",t)),null!==this.transferToUserId&&(e.writeStartElement("UserTerritoryDeleteHeader",t),e.writeNameValueNode("transferToUserId",this.transferToUserId),e.writeEndElement("UserTerritoryDeleteHeader",t)),null!==this.debuggingHeader){if(e.writeStartElement("DebuggingHeader",t),this.debuggingHeader.debugLevel&&e.writeNameValueNode("debugLevel",this.debuggingHeader.debugLevel),this.debuggingHeader.debugCategories)for(var n=this.debuggingHeader.debugCategories,r=0;r<n.length;r++){var i=n[r].split(",");2==i.length&&(e.writeStartElement("categories"),e.writeNameValueNode("category",i[0]),e.writeNameValueNode("level",i[1]),e.writeEndElement("categories"))}e.writeEndElement("DebuggingHeader",t)}e.endHeader()},o.Connection.prototype.namespaceMap=[{ns:o.Connection.prototype.sforceNs,prefix:null},{ns:o.Connection.prototype.sobjectNs,prefix:"ns1"}],o.Connection.prototype.invoke=function(e,t,n,r){return this._invoke(e,t,n,r,this.namespaceMap,this.serverUrl,this.sforceNs,this.sobjectNs)},o.Connection.prototype._invoke=function(e,t,n,r,i,a,s,l){if(r)if("function"==typeof r);else{if(!r.onSuccess)throw"onSuccess not defined in the callback";if(!r.onFailure)throw"onFailure not defined in the callback"}var u=new o.XmlWriter;u.startEnvelope(),this.writeHeader(u,s),u.startBody(),u.writeStartElement(e);for(var c=0;c<i.length;c++)u.writeNamespace(i[c].ns,i[c].prefix);for(var c=0;c<t.length;c++){var p=t[c];if("undefined"==typeof p.value)throw"arg "+c+" '"+p.name+"' not specified";if(null!==p.value){if(p.isArray&&!p.value.push)throw"arg "+c+" '"+p.name+"' is an array. But passed in value is not an array";if(!p.isArray&&p.value.push)throw"arg "+c+" '"+p.name+"' is not an array. But passed in value is an array"}if(null===p.value)this.writeOne(u,p.name,null,l);else if(p.value.push)for(var f=0;f<p.value.length;f++){var d=p.value[f];if(!d)throw"Array element at "+f+" is null.";this.writeOne(u,p.name,d,l)}else this.writeOne(u,p.name,p.value,l)}u.writeEndElement(e),u.endBody(),u.endEnvelope(),o.debug.trace&&(o.debug.log("Request: server- "+a),o.debug.logXml(u.toString()));var g=new o.SoapTransport;return g.send(a,u,n,r)},o.QueryResultIterator=function(e){this.queryResult=e,this.index=0,this.records=this.queryResult.getArray("records")},o.QueryResultIterator.prototype.hasNext=function(){if(this.records.length>this.index)return!0;return null!==this.queryResult.queryLocator&&(this.queryResult=o.connection.queryMore(this.queryResult.queryLocator),this.records=this.queryResult.getArray("records"),this.index=0),this.records.length>this.index},o.QueryResultIterator.prototype.next=function(){if(this.records.length>this.index){var e=this.records[this.index];return this.index++,e}throw"Index out of bound : "+this.index},o.Email=function(){},o.Email.prototype=new o.Xml("messages"),o.MassEmailMessage=function(){},o.MassEmailMessage.prototype=new o.Xml("messages"),o.MassEmailMessage.prototype._xsiType="MassEmailMessage",o.SingleEmailMessage=function(){},o.SingleEmailMessage.prototype=new o.Xml("messages"),o.SingleEmailMessage.prototype._xsiType="SingleEmailMessage",o.ProcessRequest=function(){},o.ProcessRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest=function(){},o.ProcessSubmitRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest.prototype._xsiType="ProcessSubmitRequest",o.ProcessWorkitemRequest=function(){},o.ProcessWorkitemRequest.prototype=new o.Xml("actions"),o.ProcessWorkitemRequest.prototype._xsiType="ProcessWorkitemRequest",o.connection=new o.Connection,"undefined"!=typeof __sfdcSiteUrlPrefix&&(l.siteUrlPrefix=__sfdcSiteUrlPrefix),o.connection.serverUrl="undefined"!=typeof i.UserContext?l.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0","undefined"!=typeof __sfdcSessionId&&(o.connection.sessionId=__sfdcSessionId);function u(){var e="salesforce",t=new RegExp(e+".+com");return t.test(i.document.domain)}function c(){var n;if(u()?n=e.getCookie("sid"):(i.__sfdcSessionId||(i.__sfdcSessionId=sforce&&sforce.connection&&sforce.connection.sessionId),n=i.__sfdcSessionId),!n)return void a("there is no session id in this page.");if(t.isFeatureEnabled("sfCommunity"))o.connection.sessionId=n;else{var r="https://"+i.location.host+"/services/Soap/u/29.0";o.connection.init(n,r)}s=!0}c.apply(null,arguments)}n.SalesForceConnection=i},{"wm-prelib-plugin-entry-manager":140}],129:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n){var i=this;i.injectSFConnection=function(e,t){var n=r().get("SalesForceConnection"),i=n.getSforce();i?e&&e(i):t()}}n.SalesForceConnectionUtils=i},{"wm-prelib-plugin-entry-manager":140}],130:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a,s,l,u,c){var p,f,d=".oneHomeCardListDesktop",g="sfVarsBlacklist",m="#WM_EXT_IFRAME {display:none !important}",h="walkme-extention-tile-hide",v=200,y=this,w=s.wrapCustomerLog(r),b=!1;function _(){x()}y.init=function(e){p=k(),p&&!E()?(w("Start to extract sfVars",2),T(e)):e&&e()};function E(){var e=S();if(e instanceof Array)for(var t=0;t<e.length;t++)if(location.href.indexOf(e[t])>-1)return!0}function S(){return _walkMe.getSiteConfig().Custom[g]}function C(){return"lightning"==a.getCurrentSfEnvironment()}function x(){if(!window.WalkMe_Extension)return;var e=window.location.href;e.indexOf("lightning.force")>-1&&(f=0,N())}y.removeIFrame=function(){i.isFeatureEnabled("keepSFFrame")||(C()?A():wmjQuery("iframe[title*='WM_EXT_IFRAME']").remove())};function A(){c.injectCss(m,h)}function N(){if(f<v){var e=wmjQuery('li:has(div:contains("WalkMe"))',d);0==e.length?(f++,l.libSetTimeout(N,300)):(e.remove(),b=!0,w("walkme SF action bar removed due to exsiting extension",2))}}function T(e){if(R()){w("Find window.UserContext",2);var n=o.getSfVarsRetriever(p);if(!n)return void a.handleNoSfVars("Can't get any right sfRetriever",e,{errType:"sfVarsFailure"});w("Got the right sfRetriever",2),t.extractSalesForceVars(e,n)}else a.handleNoSfVars("There is no UserContext on the page",e,{errType:"sfVarsFailure"})}y.search=function(e,t){n.search(e,t)};function R(){var e=a.getCurrentSfEnvironment();if(!e)return!1;var t="lightning"==e;if(t)return L();return j()}function j(){return!(!window.UserContext||"undefined"==typeof window.UserContext.userId)}function L(){var e=u.get().Custom.sfVarsLightningBaseUrl;if(e)return!0;return j()&&window.UserContext.vfDomainPattern}function k(){if(i.isFeatureEnabled(a.BASIC_SF_VARS_FEATURE)&&!i.isFeatureEnabled(a.GENERAL_SF_VARS_FEATURE))return a.BASIC_SF_VARS_FEATURE;return a.GENERAL_SF_VARS_FEATURE}_.apply(null)}n.SalesForceManager=i},{"wm-prelib-plugin-entry-manager":140}],131:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i,o=this,a="Account (Id, Name), Contact (Id, Name), Opportunity (Id, Name), Lead (Id, Name)",s="";o.search=function(e,t){n.injectSFConnection(function(n){l(n,e,t)},function(){t(s)})};function l(e,n,r){var o=s;try{var l=t.get().Settings.sfSearch||a;o=e.connection.search("find {"+n+"*} RETURNING "+l)}catch(u){i("unknown error getting search results: "+u.message)}r(o)}function u(){i=e.wrapCustomerLog(r)}u.apply(null,arguments)}n.SalesForceSearcher=i},{"wm-prelib-plugin-entry-manager":140}],132:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a,s,l){var u,c,p=this,f="wm-sf-users-data_"+s.get(),d="wm-sf-lst-usr",g=31536e5,m=864e5,h=86400,v=["userId","organizationId","organizationName","profileId","roleId","userName","userLanguage"];p.extractSalesForceVars=function(n,r){c=n;try{var i=y("wm-expirationCookie");i&&(m=parseInt(i));var o=w(),a=E();S(a,o,r).then(function(e){x(e.userData,e.isPrev),e.isPrev||l.logEvent("OK",{retrieverType:r.getType()})}).fail(function(e){t.handleNoSfVars("Failed getting user data. Message: "+e,c,{errType:"sfVarsFailure"}),l.logEvent("FAIL",{errorMsg:e,retrieverType:r.getType()})})}catch(s){e.error(s,"unknown error getting walkmeSfVars: "+s.message,{errType:"sfVarsFailure"}),l.logEvent("FAIL",{errorMsg:s.message||s,retrieverType:r.getType()}),c&&c()}};function y(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=wmjQuery.trim(n[r]);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function w(){if(window.UserContext&&window.UserContext.userId){var e=t.to18CharId(window.UserContext.userId);if(b(e),e)return e}var n=_();if(n)return n;u("No UserContext on window. Can't get userId")}function b(e){e&&n.saveData(d,e,h)}function _(){return n.getData(d)}function E(){var e=n.getData(f);if(e)return i.secureEvalJSON(e)}function S(e,t,n){var r=wmjQuery.Deferred(),i=e&&e[t];return!i||C(i)?n.getUserData(v).then(function(e){u("Get sfVars from server"),r.resolve({userData:e,isPrev:!1})}).fail(function(e){i?(u("reuse sfVars that already expired"),r.resolve({userData:i,isPrev:!0})):(u("no sfVars"),r.reject(e))}):(u("sfVars is already exist"),r.resolve({userData:i,isPrev:!0})),r.promise()}function C(e){if(e.lastModified){var t=(new Date).getTime();if(t-m<e.lastModified)return!1}return!0}function x(t,n){t?(n||A(w(),t),window.walkme_sf_vars=t,delete window.walkme_sf_vars.lastModified,o.raiseEvent(a.EVENTS.SalesForceVarsExposed),u("sales force var were exposed",5)):u("no user data for user: "+w(),5);try{c&&c()}catch(r){e.error(r,"error during callback in extract sf vars: exposeData")}}function A(e,t){if(!e)return;var r=E();r||(r={}),r[e]=t,r[e].lastModified=(new Date).getTime();var o=i.toJSON(r);o&&n.saveData(f,o,g)}function N(){u=e.wrapCustomerLog(r)}N.apply(null,arguments)}n.SalesForceVarsExtractor=i},{"wm-prelib-plugin-entry-manager":140}],133:[function(e,t,n){var r=e("./salesForceManager.js").SalesForceManager,i=e("./sfVarsUtils.js").SfVarsUtils,o=e("./salesForceVarsExtractor.js").SalesForceVarsExtractor,a=e("./salesForceSearcher.js").SalesForceSearcher,s=e("./salesForceConnectionUtils.js").SalesForceConnectionUtils,l=e("./salesForceConnection.js").SalesForceConnection,u=e("./sfVarsRetrieverFactory.js").SfVarsRetrieverFactory,c=e("./legacySfVarsRetriever.js").LegacySfVarsRetriever,p=e("./nonLegacySfVarsRetriever.js").NonLegacySfVarsRetriever,f=e("./basicSfVarsRetriever.js").BasicSfVarsRetriever,d=e("./communitySfVarsUrlBuilder.js").CommunitySfVarsUrlBuilder,g=e("./lightningSfVarsUrlBuilder.js").LightningSfVarsUrlBuilder,m=(e("./sfVarsEventLogger.js"),e("./sfVarsMapper.js").SfVarsMapper);!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=n:e.sfCommonComponents=n}(this,function(e){var t=e.get("PrelibLogger");function n(){e.register("BasicSfVarsRetriever").asCtor(f).dependencies("Logger, SfVarsUtils"),e.register("CommunitySfVarsUrlBuilder").asCtor(d).dependencies("Logger, CommonUtils, SiteConfigManager"),e.register("LegacySfVarsRetriever").asCtor(c).dependencies("SiteConfigManager, SalesForceConnectionUtils, Logger"),e.register("LightningSfVarsUrlBuilder").asCtor(g).dependencies("Logger, CommonUtils, SiteConfigManager, SfVarsUtils, FeaturesManager"),e.register("NonLegacySfVarsRetriever").asCtor(p).dependencies("Logger, CommonUtils, TimerManager, ClientStorageManager, SfVarsUtils, SfVarsMapper"),e.register("SalesForceConnection").asCtor(l).dependencies("CookiesManager, FeaturesManager, Logger"),e.register("SalesForceConnectionUtils").asCtor(s).dependencies("Logger, CookiesManager, FeaturesManager"),e.register("SalesForceManager").asCtor(r).dependencies("CommonUtils, SalesForceVarsExtractor,SalesForceSearcher,FeaturesManager,SfVarsRetrieverFactory,SfVarsUtils,Logger,TimerManager,SiteConfigManager,ResourceManager"),e.register("SalesForceSearcher").asCtor(a).dependencies("Logger,SiteConfigManager,SalesForceConnectionUtils"),e.register("SalesForceVarsExtractor").asCtor(o).dependencies("Logger, SfVarsUtils, ClientStorageManager, CommonUtils, CommonEvents, Consts, AuditSourceManager, SfVarsEventLogger"),e.register("SfVarsMapper").asCtor(m).dependencies("CommonUtils, SiteConfigManager"),e.register("SfVarsRetrieverFactory").asCtor(u).dependencies("Logger, SfVarsUtils, LegacySfVarsRetriever, NonLegacySfVarsRetriever, BasicSfVarsRetriever"),e.register("SfVarsUtils").asCtor(i).dependencies("LibDestroyer, Logger, TimerManager")}t.write("wm-sf-common-components: contributing components to ctx"),n()})},{"./basicSfVarsRetriever.js":123,"./communitySfVarsUrlBuilder.js":124,"./legacySfVarsRetriever.js":125,"./lightningSfVarsUrlBuilder.js":126,"./nonLegacySfVarsRetriever.js":127,"./salesForceConnection.js":128,"./salesForceConnectionUtils.js":129,"./salesForceManager.js":130,"./salesForceSearcher.js":131,"./salesForceVarsExtractor.js":132,"./sfVarsEventLogger.js":134,"./sfVarsMapper.js":135,"./sfVarsRetrieverFactory.js":136,"./sfVarsUtils.js":137}],134:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;r().register("SfVarsEventLogger").asCtor(i).dependencies("PrelibLogger, EventSenderErrorLogger");function i(e,t){var n=this;n.logEvent=function(n,r){e.write("sfVars plugin event: "+n);var o=i();r||(r={plugin:null,uId:null,sfVarsResult:null}),r.plugin="sf-vars",r.sfVarsResult=n,o&&(r.uId=o),t.logError(n,r)};function i(){var e=o();return e&&e.UserGuids&&e.UserGuids[0]}function o(){return a("wmSnippet")||a("wmPlaySnippet")||a("wmPreviewSnippet")}function a(e){var t=r().get("win");if(t[e]&&t[e].getSettingsFile)return t[e].getSettingsFile()}}},{"wm-prelib-plugin-entry-manager":140}],135:[function(e,t,n){e("wm-prelib-plugin-entry-manager").getCtx;function r(e,t){var n={userName:"Username",profileId:"ProfileId",roleId:"UserRoleId",userLanguage:"LanguageLocaleKey"};this.extractUserContextVars=function(t,n){var r,i,o=window.UserContext;if(o)for(var a=t.length-1;a>=0;a--)r=t[a],i=o[r],e.isDefined(i)&&""!==i&&(n[r]=i,t.splice(a,1));return t},this.mapLegacyToNonLegacyVars=function(e){var r=[];wmjQuery.each(e,function(e,t){var i=n[t];i&&r.push(i)});var i=t.get().Settings.sfCustomVars;return i&&i.length&&(r=r.concat(i)),r},this.mapNonLegacyDataToLegacy=function(e){var r={};wmjQuery.each(e,function(t,i){var o=wmjQuery.grep(Object.keys(n),function(e){return n[e]===t});o&&o[0]&&(r[o[0]]=e[n[o[0]]])});var i=t.get().Settings.sfCustomVars;return i&&i.length&&wmjQuery.each(i,function(t,n){r[n]=e[n]}),r}}n.SfVarsMapper=r},{"wm-prelib-plugin-entry-manager":140}],136:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n,o,a){var s=this,l=e.wrapCustomerLog(i);s.getSfVarsRetriever=function(e){var n=r().get("SiteConfigManager").get().Custom.sfVars;if(n&&n.UseProxyRegex){l("Selecting sfVars retriever by regex: "+n.UseProxyRegex);var i=new RegExp(n.UseProxyRegex,"i");if(i.test(location.href))return l("Use NonLegacySfVarsRetriever because proxy regex matched"),r().get("NonLegacySfVarsRetriever");l("Proxy regex did not match")}if(n&&n.UseProxy)return l("Use NonLegacySfVarsRetriever configured"),r().get("NonLegacySfVarsRetriever");if(n&&n.UseRestApi)return l("Use LegacySfVarsRetriever configured"),r().get("LegacySfVarsRetriever");if(l("No specific sfVars retriever configured - use default"),e==t.GENERAL_SF_VARS_FEATURE){var o=t.getCurrentSfEnvironment();return u(o)}if(e==t.BASIC_SF_VARS_FEATURE)return l("Retrieving sf vars with basicSfVars",1),a};function u(e){switch(e){case"legacy":return l("Retrieving sf vars with LegacySfVarsRetriever",1),n;case"lightning":case"community":return l("Retrieving sf vars with NonLegacySfVarsRetriever",1),o}}}n.SfVarsRetrieverFactory=o},{"wm-prelib-plugin-entry-manager":140}],137:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n){var o,a=this,s=(t.wrapCustomerLog(i),{legacy:{ctxUrlBuilderName:"",separatedFeatureName:"legacySfVars",appEndpoint:""},lightning:{ctxUrlBuilderName:"LightningSfVarsUrlBuilder",separatedFeatureName:"lightningSfVars",appEndpoint:"/apex/vf_WalkMeSfVars"},community:{ctxUrlBuilderName:"CommunitySfVarsUrlBuilder",separatedFeatureName:"communitiesSfVars",appEndpoint:"/apex/WM4SF3__vf_WalkMeSfVars"}});a.GENERAL_SF_VARS_FEATURE="sfVars",a.BASIC_SF_VARS_FEATURE="basicSfVars";function l(){}function u(){if(c())return"legacy";if(p())return"lightning";if(f())return"community"}a.getCurrentSfEnvironment=function(){if(o)return o;return o=u()},a.getAppEndpointByEnvironment=function(e){return s[e]&&s[e].appEndpoint},a.getUrlBuilderByEnvironment=function(e){var t=s[e]&&s[e].ctxUrlBuilderName;return r().get(t)},a.to18CharId=function(e){if(null==e||18==e.length)return e;if(e=e.replace(/\"/g,""),15!=e.length)return null;for(var t="",n=0;n<3;n++){for(var r=0,i=0;i<5;i++){var o=e.charAt(5*n+i);"A"<=o&&"Z">=o&&(r+=1<<i)}t=25>=r?t+"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r):t+"012345".charAt(r-26)}return e+t},a.handleNoSfVars=function(r,i,o){var a=d(),s=a?"sfVars failed to load (optional) - ":"sfVars failed to load (walkme removed) - ";t.error(void 0,s+r,o),a?i&&i():n.libSetTimeout(function(){e.removeWalkMe(r)},500)};function c(){var e=new RegExp(".*\\.salesforce\\.com.*"),t=new RegExp(".*\\.visual\\.force\\.com.*");return(e.test(window.location.hostname)||t.test(window.location.hostname))&&!p()}function p(){var e=new RegExp("/one/one\\.app.*"),t=new RegExp("/lightning/");return e.test(window.location.pathname)||t.test(window.location.pathname)}function f(){return!c()&&!p()&&window.UserContext}function d(){return!0}l.apply(null,arguments)}n.SfVarsUtils=o},{"wm-prelib-plugin-entry-manager":140}],138:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./sfVars.js").SfVars;t(new n)})},{"./sfVars.js":139,"wm-prelib-plugin-entry-manager":140}],139:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("wm-sf-lightning-init-user-context"),o=e("wm-sf-common-components");function a(){var e=this;e.run=u;var t,n,a,s;function l(){t=r().get("PromiseManager"),n=r().get("EventsListener"),a=r().get("EventsTrigger"),s=r().get("PrelibLogger")}function u(){s.write("sf-vars plugin was deployed."),n.on("BeforeStorageLoadedCallback",function(){var e=r().get("SfVarsEventLogger");if(r().has("sfVarsRemovedFromLib"))return s.write("sf-vars plugin detected Lib 152+ - initializing"),o(r()),r().create("Promise",function(t,n){try{r().get("SalesForceManager").init(function(){r().get("CommonEvents").raiseEvent("sfVarsLoaded",{asyncCallback:t})})}catch(i){t(),e.logEvent("FAIL",{errorMsg:i.message||i})}});s.write("sf-vars plugin did not detect Lib 152+ - do nothing"),e.logEvent("OFF")});var e=i(window,r());return e}l()}n.SfVars=a},{"wm-prelib-plugin-entry-manager":140,"wm-sf-common-components":133,"wm-sf-lightning-init-user-context":156}],140:[function(e,t,n){"use strict";var r,i={createPluginEntry:o,getCtx:a};function o(e){return function(t){r=t(),e(s)}}function a(){return r.ctx}function s(e){r.plugin(e)}n.__esModule=!0,n["default"]=i,n.createPluginEntry=i.createPluginEntry,n.getCtx=i.getCtx},{}],141:[function(e,t,n){arguments[4][123][0].apply(n,arguments)},{dup:123,"wm-prelib-plugin-entry-manager":140}],142:[function(e,t,n){arguments[4][124][0].apply(n,arguments)},{dup:124,"wm-prelib-plugin-entry-manager":140}],143:[function(e,t,n){arguments[4][125][0].apply(n,arguments)},{dup:125,"wm-prelib-plugin-entry-manager":140}],144:[function(e,t,n){arguments[4][126][0].apply(n,arguments)},{dup:126,"wm-prelib-plugin-entry-manager":140}],145:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a){var s,l,u,c,p,f=this,d={},g=!1,m=14400,h=1e4,v=500,y="walkme-sf-vars-last-fail",w="walkme-sf-vars-iframe",b={SKIP_AFTER_FAILURE:"skip loading due to a failure in the last 4 hours",VARS_LIST_EMPTY:"list to extract was empty",DATA_HAS_NO_VAL:"nonLegacy sfVars postback data was ",IFRAME_CREATED_TIMEOUT:"10 seconds passed since iframe was created",IFRAME_LOADED_TIMEOUT:"0.5 seconds passed since iframe was loaded",FAIL_FIND_SALESFORCE_NAME:"Couldn't determine endpoint for more than 7 seconds"};function _(){l=e.wrapCustomerLog(r)}f.getType=function(){return"NonLegacySfVarsRetriever"},f.getUserData=function(e){return s=wmjQuery.Deferred(),E()?s.reject(b.SKIP_AFTER_FAILURE):(e=a.extractUserContextVars(e,d),e=a.mapLegacyToNonLegacyVars(e),e.length?S(e.join(",")):s.reject(b.VARS_LIST_EMPTY)),s.promise()};function E(){var e=i.getData(y);return!!e}function S(e){var n=o.getCurrentSfEnvironment();"legacy"==n&&(n="lightning");var r=o.getAppEndpointByEnvironment(n),i=o.getUrlBuilderByEnvironment(n),a=r+"?sfVars="+e,c=i.buildRequestUrl(a);c?(l("SfVars endpoint - "+c),x(),u=t.createIframe(c,w,!1,C,A)):(N(),s.reject(b.FAIL_FIND_SALESFORCE_NAME))}function C(){l("sfVars Non-Legacy iframe loaded",3),c&&c.clear&&c.clear();var e=R(b.IFRAME_LOADED_TIMEOUT);p=n.libSetTimeout(e,v)}function x(){l("Finished creating iframe",3);var e=R(b.IFRAME_CREATED_TIMEOUT);c=n.libSetTimeout(e,h)}function A(e){if(g)return;var n;try{n=t.secureEvalJSON(e.data)}catch(r){return void l("sfVars reciver unknown message: error="+r.message,5)}if(!n||!n.attributes||"User"!==n.attributes.type)return;t.removeIframeListeners(u,"message",A),g=!0,p&&p.clear&&p.clear(),n=a.mapNonLegacyDataToLegacy(n),wmjQuery.extend(!0,d,n),s.resolve(d)}function N(){T()||i.saveData(y,(new Date).getTime(),m)}function T(){return"pending"!==s.state()}function R(e){return function(){t.removeIframeListeners(u,"message",A),N(),s.reject(e)}}_.apply(null,arguments)}n.NonLegacySfVarsRetriever=i},{"wm-prelib-plugin-entry-manager":140}],146:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i=window,o={},a=n.wrapCustomerLog(r),s=!1,l="undefined"!=typeof i.UserContext?i.UserContext:{siteUrlPrefix:"",getUrl:function(e){if("undefined"==typeof e||"undefined"==typeof l.siteUrlPrefix||!l.siteUrlPrefix)return e;if(0!=e.indexOf("/"))return e;if(0==e.indexOf(l.siteUrlPrefix))return e;return l.siteUrlPrefix+e}};this.getSforce=function(){if(s)return o;return null},o.internal={},o.StringBuffer=function(){this.buffer=[],this.append=function(e){return this.buffer.push(e),this},this.toString=function(){return this.buffer.join("")}},o.Base64Binary=function(e){this.input=e},o.Base64Binary.prototype.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o.Base64Binary.prototype.toString=function(){var e,t,n,r,i,o=[],a="",s="",l=0;do e=this.input.charCodeAt(l++),t=this.input.charCodeAt(l++),a=this.input.charCodeAt(l++),n=e>>2,r=(3&e)<<4|t>>4,i=(15&t)<<2|a>>6,s=63&a,isNaN(t)?i=s=64:isNaN(a)&&(s=64),o.push(this.keyStr.charAt(n)+this.keyStr.charAt(r)+this.keyStr.charAt(i)+this.keyStr.charAt(s)),e=t=a="",n=r=i=s="";while(l<this.input.length);return o.join("")},o.Base64Binary.prototype.decode=function(e){var t,n,r,i,o,s=[],l="",u="",c=0,p=/[^A-Za-z0-9\+\/\=]/g;p.exec(e)&&a("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/', and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.keyStr.indexOf(e.charAt(c++)),i=this.keyStr.indexOf(e.charAt(c++)),o=this.keyStr.indexOf(e.charAt(c++)),u=this.keyStr.indexOf(e.charAt(c++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,l=(3&o)<<6|u,s.push(String.fromCharCode(t)),64!=o&&s.push(String.fromCharCode(n)),64!=u&&s.push(String.fromCharCode(l)),t=n=l="",r=i=o=u="";while(c<e.length);return s.join("")},o.internal.dateToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return n+"-"+r+"-"+i},o.internal.dateTimeToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getTimezoneOffset(),u=l<0?"+":"-";l=Math.abs(l);var c=l/60,p=l%60;s<=9&&(s="0"+s);var f=t.getMilliseconds();0!==f&&(f="."+f,f.length>4&&(f=f.substring(0,4)),s+=f);var d;return 0===l?d="Z":(p<10&&(p="0"+p),c<10&&(c="0"+c),d=u+c+":"+p),r<=9&&(r="0"+r),i<=9&&(i="0"+i),o<=9&&(o="0"+o),a<=9&&(a="0"+a),n+"-"+r+"-"+i+"T"+o+":"+a+":"+s+d},o.internal.stringToDate=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),10!=e.length)throw"Unable to parse date, "+e+" length != 10";if("-"!=e.charAt(4)||"-"!=e.charAt(7))throw"Unable to parse date";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),o=new Date(n,r-1,i,0,0,0);return o.setMilliseconds(0),o},o.internal.stringToDateTime=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),e.length<19)throw"Unable to parse dateTime";if("-"!=e.charAt(4)||"-"!=e.charAt(7)||"T"!=e.charAt(10))throw"Unable to parse dateTime";if(":"!=e.charAt(13)||":"!=e.charAt(16))throw"Unable to parse dateTime";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),a=e.substring(11,13),s=e.substring(14,16),l=e.substring(17,19),u=new Date(n,r-1,i,a,s,l),c=19;if(c<e.length&&"."==e.charAt(c)){for(var p=0,f=++c;c<e.length&&o.internal.isDigit(e.charAt(c));)c++;var d=e.substring(f,c);3==d.length?p=d:d.length<3?p=(d+"000").substring(0,3):(p=d.substring(0,3),d.charAt(3)>="5"&&++p),u.setMilliseconds(p)}var g=6e4*u.getTimezoneOffset();if(c+5<e.length&&("+"==e.charAt(c)||"-"==e.charAt(c))){if(!(o.internal.isDigit(e.charAt(c+1))&&o.internal.isDigit(e.charAt(c+2))&&":"==e.charAt(c+3)&&o.internal.isDigit(e.charAt(c+4))&&o.internal.isDigit(e.charAt(c+5))))throw"Unable to parse dateTime";var m=10*(e.charAt(c+1)-"0")+e.charAt(c+2)-"0",h=10*(e.charAt(c+4)-"0")+e.charAt(c+5)-"0",v=60*(60*m+h)*1e3;"+"==e.charAt(c)&&(v=-v),u=new Date(u.getTime()-g+v),c+=6}if(c<e.length&&"Z"==e.charAt(c)&&(c++,u=new Date(u.getTime()-g)),c<e.length)throw"Unable to parse dateTime";return u},o.internal.isDigit=function(e){return"0"==e||"1"==e||"2"==e||"3"==e||"4"==e||"5"==e||"6"==e||"7"==e||"8"==e||"9"==e},o.Xml=function(e){},o.Xml.prototype.toXml=function(e,t,n){n.writeStartElement(t,e),this._xsiType&&n.writeXsiType(this._xsiType);
for(var r in this)if("_name"==r||"_xsiType"==r);else{var i=this[r];if("function"!=typeof i)if("array"==typeof i)for(var o=0;o<i.length;o++)this.writeValue(e,n,r,i[o]);else this.writeValue(e,n,r,i)}n.writeEndElement(t,e)},o.Xml.prototype.writeValue=function(e,t,n,r){if(null===r)return void t.writeNameValueNode("fieldsToNull",n);if("undefined"==typeof r)return;r.toXml?r.toXml(e,n,t):t.writeNameValueNode(n,r)},o.Xml.prototype.get=function(e){return this[e]?this[e]:null},o.Xml.prototype.set=function(e,t){this[e]=t},o.Xml.prototype.getArray=function(e){var t=this[e];return t?t.join?t:[t]:[]},o.Xml.prototype.getBoolean=function(e){return"true"==this[e]},o.Xml.prototype.getDate=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDate(this[e]):null},o.Xml.prototype.getDateTime=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDateTime(this[e]):null},o.Xml.prototype.getInt=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseInt(this[e],10);throw"Unable to parse int field: "+e},o.Xml.prototype.getFloat=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseFloat(this[e]);throw"Unable to parse float field: "+e},o.Xml.prototype.getBase64Binary=function(e){if(this[e])return o.Base64Binary.prototype.decode(this[e]);throw"Unable to parse base64Binary field: "+e},o.Xml.prototype.toString=function(){var e=new o.StringBuffer;e.append("{");for(var t in this){var n=this[t];if(n)if("object"==typeof n)e.append(t).append(":").append(n.toString());else if(n.join){e.append(t).append(":").append("[");for(var r=0;r<n.length;r++)e.append(n[r]),r<n.length-1&&e.append(", ");e.append("]")}else{if("function"==typeof n)continue;e.append(t).append(":").append("'"+n+"'")}else e.append(t).append(":").append(""+n);e.append(", ")}return e.append("}"),e.toString()},o.internal.Debug=function(){this.output=null,this.trace=!1,this.apexTrace=!1,this.win=null,this.traceQueue=[],this.quiet=!1,this.open=function(){this.println("","print")},this.println=function(e,t){if(this.quiet)return;if("function"==typeof println)return void println(e,t);null!==this.win&&this.win.document||(this.output=null,this.win=i.open("undefined"!=typeof i.UserContext?l.getUrl("/soap/ajax/29.0/debugshell.html"):"/soap/ajax/29.0/debugshell.html","","width=800,height=400,toolbar=no,location=no,directories=no,alwaysRaised=yes,status=no,menubar=no,scrollbars=yes,copyhistory=yes,resizable=yes")),null===this.output&&this.findOutput(),null!==this.output?(o.debug.traceQueue.length>0&&this.traceCallback(),this.win.println(e,t)):(o.debug.traceQueue.push({message:e,type:t}),setTimeout(o.debug.traceCallback,1e3))},this.traceCallback=function(){if(o.debug.findOutput(),null===o.debug.output)return void setTimeout(o.debug.traceCallback,1e3);for(var e=0;e<o.debug.traceQueue.length;e++){var t=o.debug.traceQueue[e];o.debug.win.println(t.message,t.type)}o.debug.traceQueue=[]},this.findOutput=function(){return null===this.output&&(this.output=this.win.document.getElementById("output")),this.output},this.logXml=function(e){e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e="<textarea cols=80 rows=5 wrap=hard>"+e+"</textarea>",this.println(e,"printxml")},this.log=function(e){this.println(e,"print")},this.logApex=function(e){var t=e.indexOf("<debugLog>"),n=e.indexOf("</debugLog>");t===-1?t=0:t+="<debugLog>".length,n===-1&&(n=e.length);var r=e.substring(t,n);this.println(r,"printxml")}},o.debug=new o.internal.Debug,o.internal._connections=[],o.internal.ConnectionHolder=function(e,t){this.connection=e,this.callback=t,this.timedout=!1},o.Transport=function(e){this.url=e,this.connection=null,this.newConnection=function(){try{this.connection=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.connection=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.connection=new XMLHttpRequest}}return this.connection},this.send=function(e,t,n,r){this.newConnection(),n&&(this.connection.onreadystatechange=this.httpConnectionCallback);var i=new o.internal.ConnectionHolder(this.connection,t);o.internal._connections.push(i),this.connection.open("POST",this.url,n),this.connection.setRequestHeader("Content-Type","text/xml; charset=UTF-8"),this.connection.setRequestHeader("SOAPAction",'""'),this.connection.setRequestHeader("Accept","text/xml"),this.connection.send(e),n&&"undefined"!=typeof r&&this.setTimeoutOn(i,r),n||this.httpConnectionCallback()},this.setTimeoutOn=function(e,t){function n(){4!==e.connection.readyState&&(e.timedout=!0,e.connection.abort())}setTimeout(n,t)},this.httpConnectionCallback=function(){for(var e=0;e<o.internal._connections.length;e++){var t=o.internal._connections[e];if(null!==t)if(t.timedout)o.internal._connections[e]=null,o.internal._connections.slice(e,1),t.callback.httpCallback("Remote invocation timed out",!1);else if(4==t.connection.readyState){o.internal._connections[e]=null,o.internal._connections.slice(e,1);var n=200==t.connection.status;o.debug.trace&&(o.debug.log("Response : status - "+t.connection.status),o.debug.logXml(t.connection.responseText)),o.debug.apexTrace&&o.debug.logApex(t.connection.responseText),t.connection.responseXML&&t.connection.responseXML.documentElement?t.callback.httpCallback(t.connection.responseXML.documentElement,n):t.callback.httpCallback("Remote invocation failed, due to: "+t.connection.responseText+" status code: ",t.connection.status)}}}},o.XmlWriter=function(){this.buffer=new o.StringBuffer,this.namespaces={},this.prefixCount=0,this.writingStartElement=!1},o.XmlWriter.prototype.writeStartElement=function(e,t,n){this.writingStartElement&&this.buffer.append(">"),this.buffer.append("<");var r=!1;t&&(this.namespaces[t]||""===this.namespaces[t]||(r=!0),n||(n=this.getPrefix(t)),null!==n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))),this.buffer.append(e),r===!0&&this.writeNamespace(t,n),this.writingStartElement=!0},o.XmlWriter.prototype.writeEndElement=function(e,t){if(this.writingStartElement)this.buffer.append("/>");else{if(this.buffer.append("</"),t){var n=this.getPrefix(t);n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))}this.buffer.append(e),this.buffer.append(">")}this.writingStartElement=!1},o.XmlWriter.prototype.writeNamespace=function(e,t){t&&""!==t?(this.namespaces[e]=t,this.buffer.append(" "),this.buffer.append("xmlns:"),this.buffer.append(t)):(this.namespaces[e]="",this.buffer.append(" "),this.buffer.append("xmlns")),this.buffer.append('="'),this.buffer.append(e),this.buffer.append('"')},o.XmlWriter.prototype.writeText=function(e){if(!this.writingStartElement)throw"Can only write text after a start element";this.buffer.append(">"),this.writingStartElement=!1,"string"==typeof e&&(e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")),this.buffer.append(e)},o.XmlWriter.prototype.writeXsiType=function(e){this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:type",e)},o.XmlWriter.prototype.writeAttribute=function(e,t){this.buffer.append(" "+e+'="'+t+'"')},o.XmlWriter.prototype.getPrefix=function(e){var t=this.namespaces[e];if(!t&&""!==t)return t="ns"+this.prefixCount,this.prefixCount++,this.namespaces[e]=t,t;return t},o.XmlWriter.prototype.toString=function(){return this.buffer.toString()},o.XmlWriter.prototype.soapNS="http://schemas.xmlsoap.org/soap/envelope/",o.XmlWriter.prototype.startEnvelope=function(){this.writeStartElement("Envelope",this.soapNS,"se")},o.XmlWriter.prototype.endEnvelope=function(){this.writeEndElement("Envelope",this.soapNS)},o.XmlWriter.prototype.startHeader=function(){this.writeStartElement("Header",this.soapNS,"se")},o.XmlWriter.prototype.endHeader=function(){this.writeEndElement("Header",this.soapNS)},o.XmlWriter.prototype.startBody=function(){this.writeStartElement("Body",this.soapNS,"se")},o.XmlWriter.prototype.endBody=function(){this.writeEndElement("Body",this.soapNS)},o.XmlWriter.prototype.writeNameValueNode=function(e,t){if(null===t)return this.writeStartElement(e),this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:nill","true"),void this.writeEndElement(e);if(t.toUTCString&&(t=o.internal.dateTimeToString(t)),"boolean"==typeof t&&(t=t?"true":"false"),t&&t.join)for(var n=0;n<t.length;n++)this.writeStartElement(e),this.writeText(t[n]),this.writeEndElement(e);else this.writeStartElement(e),this.writeText(t),this.writeEndElement(e)},o.XmlReader=function(e){this.envelope=e},o.XmlReader.prototype.getEnvelope=function(){if(this.isTag("Envelope",this.envelope))return this.envelope;throw"Unable to find soap envelope, but found "+this.envelope.nodeName},o.XmlReader.prototype.getBody=function(){return this.getChild("Body",this.envelope)},o.XmlReader.prototype.getHeader=function(){return this.getChild("Header",this.envelope)},o.XmlReader.prototype.getChild=function(e,t){for(var n=t.childNodes,r=0;r<n.length;r++)if(1==n[r].nodeType&&this.isTag(e,n[r]))return n[r];return null},o.XmlReader.prototype.getFirstElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(1==t[n].nodeType)return t[n];return null},o.XmlReader.prototype.isTag=function(e,t){var n=t.nodeName.split(":");if(2==n.length&&n[1]==e)return!0;if(1==n.length&&n[0]==e)return!0;return!1},o.XmlReader.prototype.isNameValueNode=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(3!=t[n].nodeType)return!1;return!0},o.XmlReader.prototype.getTextValue=function(e){if(3==e.nodeType)return e.nodeValue;var t=e.getAttribute("xsi:nil");if("true"==t)return null;for(var n="",r=e.childNodes,i=0;i<r.length;i++){if(3!=r[i].nodeType)throw"Not a simple name value node";n+=r[i].nodeValue}return n},o.XmlReader.prototype.toXmlObject=function(e){var t=e.getAttribute("xsi:nil");if("true"==t)return null;var n=new o.Xml,r=[];for(r.push({node:e,obj:n});r.length>0;)for(var i=r.shift(),a=i.node.firstChild;null!==a;a=a.nextSibling){if(1!=a.nodeType)continue;var s=a.nodeName,l=s.indexOf(":");s=l==-1?s:s.substring(l+1);for(var u,c=!0,p="",f=a.firstChild;null!==f;f=f.nextSibling){if(3!=f.nodeType){c=!1;break}p+=f.nodeValue}if(c?u="true"==a.getAttribute("xsi:nil")?null:p:(u=new o.Xml,r.push({node:a,obj:u})),i.obj[s])if(i.obj[s].push)i.obj[s].push(u);else{var d=i.obj[s];"Id"===s&&d===u||(i.obj[s]=[],i.obj[s].push(d),i.obj[s].push(u))}else i.obj[s]=u}return n},o.SoapTransport=function(){this.connectionCallback=null,this.result=null,this.fault=null,this.isAsync=!0,this.isArray=!1},o.SoapTransport.prototype.onFailure=function(e,t){var n="ERROR: ........... ";a(n+e),this.result=null},o.SoapTransport.prototype.send=function(e,t,n,r){this.isArray=n;var i=new o.Transport(e);if(this.isAsync=!!r,!this.isAsync){if(i.send(t.toString(),this,this.isAsync),null!==this.fault)throw this.fault;return this.result}this.connectionCallback=r,i.send(t.toString(),this,this.isAsync,r.timeout)},o.SoapTransport.prototype.httpCallback=function(e,t){try{if(t===!0){var n=new o.XmlReader(e),r=(n.getEnvelope(),n.getBody()),i=n.getFirstElement(r);if(null===i)throw"Unable to find operation response element";for(var a=[],s=i.childNodes,l=0;l<s.length;l++){if(1!=s[l].nodeType)continue;n.isNameValueNode(s[l])?a.push(n.getTextValue(s[l])):a.push(n.toXmlObject(s[l]))}if(this.isArray)this.result=a;else{if(a.length>1)throw"Found more than one response: "+a;this.result=a[0]}if(this.isAsync)try{if(this.beforeCallback(),"function"==typeof this.connectionCallback)this.connectionCallback(this.result);else{if(!this.connectionCallback.onSuccess)throw"Unable to find onSuccess method in the callback object";this.connectionCallback.onSuccess(this.result,this.connectionCallback.source)}}finally{this.afterCallback()}}else if("undefined"!=typeof e.nodeName){var u=new o.XmlReader(e),c=(u.getEnvelope(),u.getBody()),p=u.getFirstElement(c),f=u.toXmlObject(p);this.sendFault(f)}else this.sendFault(e)}catch(d){this.sendFault(d)}},o.SoapTransport.prototype.sendFault=function(e){if(this.isAsync)if(this.connectionCallback.onFailure)try{this.beforeCallback(),this.connectionCallback.onFailure(e,this.connectionCallback.source)}finally{this.afterCallback()}else this.onFailure(e);else this.fault=e},o.SoapTransport.prototype.beforeCallback=function(){},o.SoapTransport.prototype.afterCallback=function(){},o.SObject=function(e){this.type=e},o.SObject.prototype=new o.Xml("sObjects"),o.LeadConvert=function(){},o.LeadConvert.prototype=new o.Xml("leadConverts"),o.MergeRequest=function(){},o.MergeRequest.prototype=new o.Xml("request"),o.QuickAction=function(){},o.QuickAction.prototype=new o.Xml("quickActions"),o.Connection=function(){this.sessionId=null,this.updateMru=null,this.allowFieldTruncation=null,this.disableFeedTracking=null,this.streamingEnabled=null,this.allOrNone=null,this.client=null,this.defaultNamespace=null,this.batchSize=null,this.loginScopeHeader=null,this.emailHeader=null,this.assignmentRuleHeader=null,this.transferToUserId=null,this.debuggingHeader=null,this.serverUrl="undefined"!=typeof i.UserContext?l.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0"},o.internal.Parameter=function(e,t,n){this.name=e,this.value=t,this.isArray=n},o.Connection.prototype.sforceNs="urn:partner.soap.sforce.com",o.Connection.prototype.sobjectNs="sobject.partner.soap.sforce.com",o.Connection.prototype.writeOne=function(e,t,n,r){null===n?e.writeNameValueNode(t,null):n.toXml?n.toXml(r,t,e):e.writeNameValueNode(t,n)},o.Connection.prototype.init=function(e,t){this.sessionId=e,this.serverUrl=t},o.Connection.prototype.login=function(e,t){var n=new o.internal.Parameter("username",e,(!1)),r=new o.internal.Parameter("password",t,(!1)),i=this.invoke("login",[n,r],!1,null);return this.sessionId=i.sessionId,i},o.Connection.prototype.describeSObject=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!1));return this.invoke("describeSObject",[n],!1,t)},o.Connection.prototype.describeSObjects=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!0));return this.invoke("describeSObjects",[n],!0,t)},o.Connection.prototype.describeGlobal=function(e){return this.invoke("describeGlobal",[],!1,e)},o.Connection.prototype.describeLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeLayout",[r,i],!1,n)},o.Connection.prototype.describeAvailableQuickActions=function(e,t){var n=new o.internal.Parameter("parentType",e,(!1));return this.invoke("describeAvailableQuickActions",[n],!0,t)},o.Connection.prototype.describeQuickActions=function(e,t){var n=new o.internal.Parameter("quickActionNames",e,(!0));return this.invoke("describeQuickActions",[n],!0,t)},o.Connection.prototype.performQuickActions=function(e,t){var n=new o.internal.Parameter("quickActions",e,(!0));return this.invoke("performQuickActions",[n],!0,t)},o.Connection.prototype.describeCompactLayouts=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeCompactLayouts",[r,i],!1,n)},o.Connection.prototype.describeTabs=function(e){return this.invoke("describeTabs",[],!0,e)},o.Connection.prototype.describeFlexiPages=function(e,t){var n=new o.internal.Parameter("FlexiPage",e,(!1));return this.invoke("describeFlexiPages",[n],!0,t)},o.Connection.prototype.describeTheme=function(e,t){var n=new o.internal.Parameter("themeNames",e,(!0));return this.invoke("describeTheme",[n],!0,t)},o.Connection.prototype.describeGlobalTheme=function(e){return this.invoke("describeGlobalTheme",[],!0,e)},o.Connection.prototype.describeSoftphoneLayout=function(e){return this.invoke("describeSoftphoneLayout",[],!1,e)},o.Connection.prototype.describeMiniLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1)),i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeMiniLayout",[r,i],!1,n)},o.Connection.prototype.describeSearchScopeOrder=function(e){return this.invoke("describeSearchScopeOrder",[],!0,e)},o.Connection.prototype.create=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("create",[n],!0,t)},o.Connection.prototype.update=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("update",[n],!0,t)},o.Connection.prototype.upsert=function(e,t,n){var r=new o.internal.Parameter("externalIDFieldName",e,(!1)),i=new o.internal.Parameter("sObjects",t,(!0));return this.invoke("upsert",[r,i],!0,n)},o.Connection.prototype.deleteIds=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("delete",[n],!0,t)},o.Connection.prototype.impersonateUser=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("impersonateUser",[n],!0,t)},o.Connection.prototype.query=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("query",[n],!1,t)},o.Connection.prototype.queryAll=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("queryAll",[n],!1,t)},o.Connection.prototype.queryMore=function(e,t){var n=new o.internal.Parameter("queryLocator",e,(!1));return this.invoke("queryMore",[n],!1,t)},o.Connection.prototype.retrieve=function(e,t,n,r){var i=new o.internal.Parameter("fieldList",e,(!1)),a=new o.internal.Parameter("sObjectType",t,(!1)),s=new o.internal.Parameter("ids",n,(!0));return this.invoke("retrieve",[i,a,s],!0,r)},o.Connection.prototype.getUserInfo=function(e){return this.invoke("getUserInfo",[],!1,e)},o.Connection.prototype.resetPassword=function(e,t){var n=new o.internal.Parameter("userId",e,(!1));return this.invoke("resetPassword",[n],!1,t)},o.Connection.prototype.setPassword=function(e,t,n){var r=new o.internal.Parameter("userId",e,(!1)),i=new o.internal.Parameter("password",t,(!1));return this.invoke("setPassword",[r,i],!1,n)},o.Connection.prototype.search=function(e,t){var n=new o.internal.Parameter("searchString",e,(!1));return this.invoke("search",[n],!1,t)},o.Connection.prototype.getDeleted=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getDeleted",[i,a,s],!1,r)},o.Connection.prototype.getUpdated=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getUpdated",[i,a,s],!1,r)},o.Connection.prototype.getServerTimestamp=function(e){return this.invoke("getServerTimestamp",[],!1,e)},o.Connection.prototype.convertLead=function(e,t){var n=new o.internal.Parameter("leadConverts",e,(!0));return this.invoke("convertLead",[n],!0,t)},o.Connection.prototype.merge=function(e,t){var n=new o.internal.Parameter("request",e,(!0));return this.invoke("merge",[n],!0,t)},o.Connection.prototype.undelete=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("undelete",[n],!0,t)},o.Connection.prototype.process=function(e,t){var n=new o.internal.Parameter("actions",e,(!0));return this.invoke("process",[n],!0,t)},o.Connection.prototype.sendEmail=function(e,t){var n=new o.internal.Parameter("messages",e,(!0));return this.invoke("sendEmail",[n],!0,t)},o.Connection.prototype.emptyRecycleBin=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("emptyRecycleBin",[n],!0,t)},o.Connection.prototype.invalidateSessions=function(e,t){var n=new o.internal.Parameter("sessionIds",e,(!0));return this.invoke("invalidateSessions",[n],!0,t)},o.Connection.prototype.logout=function(e){return this.invoke("logout",[],!0,e)},o.Connection.prototype.remoteFunction=function(e){if(!e.url)throw"url not defined";if(!e.onSuccess)throw"onSuccess method not defined";if(e.method||(e.method="GET"),e.mimeType||(e.mimeType="text/plain"),"undefined"==typeof e.async&&(e.async=!0),"undefined"==typeof e.cache&&(e.cache=!1),"text/plain"!=e.mimeType&&"text/xml"!=e.mimeType)throw"Unknown mime type "+e.mimeType;o.debug.trace&&o.debug.log("Open connection to ... "+e.url);var t=(new o.Transport).newConnection(),n="undefined"!=typeof i.UserContext?l.getUrl("/services/proxy"):"/services/proxy";if(n=e.cache?n+"?end-point-url="+e.url:n+"?no-cache="+(new Date).getTime(),t.open(e.method,n,e.async),e.requestHeaders)for(var r in e.requestHeaders)"function"!=typeof e.requestHeaders[r]&&t.setRequestHeader(r,e.requestHeaders[r]);t.setRequestHeader("SalesforceProxy-Endpoint",e.url),t.setRequestHeader("SalesforceProxy-SID",this.sessionId),e.async&&(t.onreadystatechange=a),o.debug.trace&&o.debug.log("Sending ..."),e.requestData?t.send(e.requestData):t.send(null),o.debug.trace&&o.debug.log("Done Sending ..."),e.async||a();function a(){if(o.debug.trace&&o.debug.log("callback called ..."),4==t.readyState)if(200==t.status)if("text/plain"==e.mimeType)e.onSuccess(t.responseText,t);else{if("text/xml"!=e.mimeType)throw"unsupported mime type: "+e.mimeType;if(!t.responseXML||!t.responseXML.documentElement)throw"Response not text/xml mime type: "+t.responseText;e.onSuccess(t.responseXML.documentElement,t)}else e.onFailure?e.onFailure(t.responseText,t):o.debug.log(t.responseText)}},o.Connection.prototype.writeHeader=function(e,t){if(e.startHeader(),e.writeNamespace(t,"sfns"),null!==this.sessionId&&(e.writeStartElement("SessionHeader",t),e.writeNameValueNode("sessionId",this.sessionId),e.writeEndElement("SessionHeader",t)),"undefined"!=typeof this.organizationId)throw"Use sforce.connection.loginScopeHeader.organizationId instead of sforce.connection.organizationId";if(null!==this.loginScopeHeader&&(e.writeStartElement("LoginScopeHeader",t),null!==this.loginScopeHeader.organizationId&&e.writeNameValueNode("organizationId",this.loginScopeHeader.organizationId),null!==this.loginScopeHeader.portalId&&e.writeNameValueNode("portalId",this.loginScopeHeader.portalId),e.writeEndElement("LoginScopeHeader",t)),null===this.client&&null===this.defaultNamespace||(e.writeStartElement("CallOptions",t),null!==this.client&&e.writeNameValueNode("client",this.client),null!==this.defaultNamespace&&e.writeNameValueNode("defaultNamespace",this.defaultNamespace),e.writeEndElement("CallOptions",t)),null!==this.batchSize&&(e.writeStartElement("QueryOptions",t),e.writeNameValueNode("batchSize",this.batchSize),e.writeEndElement("QueryOptions",t)),null!==this.allowFieldTruncation&&(e.writeStartElement("AllowFieldTruncationHeader",t),e.writeNameValueNode("allowFieldTruncation",this.allowFieldTruncation),e.writeEndElement("AllowFieldTruncationHeader",t)),null!==this.disableFeedTracking&&(e.writeStartElement("DisableFeedTrackingHeader",t),e.writeNameValueNode("disableFeedTracking",this.disableFeedTracking),e.writeEndElement("DisableFeedTrackingHeader",t)),null!==this.streamingEnabled&&(e.writeStartElement("StreamingEnabledHeader",t),e.writeNameValueNode("StreamingEnabled",this.streamingEnabled),e.writeEndElement("StreamingEnabledHeader",t)),null!==this.allOrNone&&(e.writeStartElement("AllOrNoneHeader",t),e.writeNameValueNode("allOrNone",this.allOrNone),e.writeEndElement("AllOrNoneHeader",t)),null!==this.updateMru&&(e.writeStartElement("MruHeader",t),e.writeNameValueNode("updateMru",this.updateMru),e.writeEndElement("MruHeader",t)),null!==this.emailHeader&&(e.writeStartElement("EmailHeader",t),this.emailHeader.triggerAutoResponseEmail&&e.writeNameValueNode("triggerAutoResponseEmail",this.emailHeader.triggerAutoResponseEmail),this.emailHeader.triggerOtherEmail&&e.writeNameValueNode("triggerOtherEmail",this.emailHeader.triggerOtherEmail),this.emailHeader.triggerUserEmail&&e.writeNameValueNode("triggerUserEmail",this.emailHeader.triggerUserEmail),e.writeEndElement("EmailHeader",t)),null!==this.assignmentRuleHeader&&(e.writeStartElement("AssignmentRuleHeader",t),this.assignmentRuleHeader.assignmentRuleId&&e.writeNameValueNode("assignmentRuleId",this.assignmentRuleHeader.assignmentRuleId),this.assignmentRuleHeader.useDefaultRule&&e.writeNameValueNode("useDefaultRule",this.assignmentRuleHeader.useDefaultRule),e.writeEndElement("AssignmentRuleHeader",t)),null!==this.transferToUserId&&(e.writeStartElement("UserTerritoryDeleteHeader",t),e.writeNameValueNode("transferToUserId",this.transferToUserId),e.writeEndElement("UserTerritoryDeleteHeader",t)),null!==this.debuggingHeader){if(e.writeStartElement("DebuggingHeader",t),this.debuggingHeader.debugLevel&&e.writeNameValueNode("debugLevel",this.debuggingHeader.debugLevel),this.debuggingHeader.debugCategories)for(var n=this.debuggingHeader.debugCategories,r=0;r<n.length;r++){var i=n[r].split(",");2==i.length&&(e.writeStartElement("categories"),e.writeNameValueNode("category",i[0]),e.writeNameValueNode("level",i[1]),e.writeEndElement("categories"))}e.writeEndElement("DebuggingHeader",t)}e.endHeader()},o.Connection.prototype.namespaceMap=[{ns:o.Connection.prototype.sforceNs,prefix:null},{ns:o.Connection.prototype.sobjectNs,prefix:"ns1"}],o.Connection.prototype.invoke=function(e,t,n,r){return this._invoke(e,t,n,r,this.namespaceMap,this.serverUrl,this.sforceNs,this.sobjectNs)},o.Connection.prototype._invoke=function(e,t,n,r,i,a,s,l){if(r)if("function"==typeof r);else{if(!r.onSuccess)throw"onSuccess not defined in the callback";if(!r.onFailure)throw"onFailure not defined in the callback"}var u=new o.XmlWriter;u.startEnvelope(),this.writeHeader(u,s),u.startBody(),u.writeStartElement(e);for(var c=0;c<i.length;c++)u.writeNamespace(i[c].ns,i[c].prefix);for(var c=0;c<t.length;c++){var p=t[c];if("undefined"==typeof p.value)throw"arg "+c+" '"+p.name+"' not specified";if(null!==p.value){if(p.isArray&&!p.value.push)throw"arg "+c+" '"+p.name+"' is an array. But passed in value is not an array";if(!p.isArray&&p.value.push)throw"arg "+c+" '"+p.name+"' is not an array. But passed in value is an array"}if(null===p.value)this.writeOne(u,p.name,null,l);else if(p.value.push)for(var f=0;f<p.value.length;f++){var d=p.value[f];if(!d)throw"Array element at "+f+" is null.";this.writeOne(u,p.name,d,l)}else this.writeOne(u,p.name,p.value,l)}u.writeEndElement(e),u.endBody(),u.endEnvelope(),o.debug.trace&&(o.debug.log("Request: server- "+a),o.debug.logXml(u.toString()));var g=new o.SoapTransport;return g.send(a,u,n,r)},o.QueryResultIterator=function(e){this.queryResult=e,this.index=0,this.records=this.queryResult.getArray("records")},o.QueryResultIterator.prototype.hasNext=function(){if(this.records.length>this.index)return!0;return null!==this.queryResult.queryLocator&&(this.queryResult=o.connection.queryMore(this.queryResult.queryLocator),this.records=this.queryResult.getArray("records"),this.index=0),this.records.length>this.index},o.QueryResultIterator.prototype.next=function(){if(this.records.length>this.index){var e=this.records[this.index];return this.index++,e}throw"Index out of bound : "+this.index},o.Email=function(){},o.Email.prototype=new o.Xml("messages"),o.MassEmailMessage=function(){},o.MassEmailMessage.prototype=new o.Xml("messages"),o.MassEmailMessage.prototype._xsiType="MassEmailMessage",o.SingleEmailMessage=function(){},o.SingleEmailMessage.prototype=new o.Xml("messages"),o.SingleEmailMessage.prototype._xsiType="SingleEmailMessage",o.ProcessRequest=function(){},o.ProcessRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest=function(){},o.ProcessSubmitRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest.prototype._xsiType="ProcessSubmitRequest",o.ProcessWorkitemRequest=function(){},o.ProcessWorkitemRequest.prototype=new o.Xml("actions"),o.ProcessWorkitemRequest.prototype._xsiType="ProcessWorkitemRequest",o.connection=new o.Connection,"undefined"!=typeof __sfdcSiteUrlPrefix&&(l.siteUrlPrefix=__sfdcSiteUrlPrefix),o.connection.serverUrl="undefined"!=typeof i.UserContext?l.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0","undefined"!=typeof __sfdcSessionId&&(o.connection.sessionId=__sfdcSessionId);function u(){var e="salesforce",t=new RegExp(e+".+com");return t.test(i.document.domain)}function c(){var n;if(n=u()?e.getCookie("sid"):i.__sfdcSessionId,!n)return void a("there is no session id in this page.");if(t.isFeatureEnabled("sfCommunity"))o.connection.sessionId=n;else{var r="https://"+i.location.host+"/services/Soap/u/29.0";o.connection.init(n,r)}s=!0}c.apply(null,arguments)}n.SalesForceConnection=i},{"wm-prelib-plugin-entry-manager":140}],147:[function(e,t,n){arguments[4][129][0].apply(n,arguments)},{dup:129,"wm-prelib-plugin-entry-manager":140}],148:[function(e,t,n){arguments[4][130][0].apply(n,arguments)},{dup:130,"wm-prelib-plugin-entry-manager":140}],149:[function(e,t,n){arguments[4][131][0].apply(n,arguments)},{dup:131,"wm-prelib-plugin-entry-manager":140}],150:[function(e,t,n){arguments[4][132][0].apply(n,arguments)},{dup:132,"wm-prelib-plugin-entry-manager":140}],151:[function(e,t,n){arguments[4][133][0].apply(n,arguments)},{"./basicSfVarsRetriever.js":141,"./communitySfVarsUrlBuilder.js":142,"./legacySfVarsRetriever.js":143,"./lightningSfVarsUrlBuilder.js":144,"./nonLegacySfVarsRetriever.js":145,"./salesForceConnection.js":146,"./salesForceConnectionUtils.js":147,"./salesForceManager.js":148,"./salesForceSearcher.js":149,"./salesForceVarsExtractor.js":150,"./sfVarsEventLogger.js":152,"./sfVarsMapper.js":153,"./sfVarsRetrieverFactory.js":154,"./sfVarsUtils.js":155,dup:133}],152:[function(e,t,n){arguments[4][134][0].apply(n,arguments)},{dup:134,"wm-prelib-plugin-entry-manager":140}],153:[function(e,t,n){arguments[4][135][0].apply(n,arguments)},{dup:135,"wm-prelib-plugin-entry-manager":140}],154:[function(e,t,n){arguments[4][136][0].apply(n,arguments)},{dup:136,"wm-prelib-plugin-entry-manager":140}],155:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n){var o,a=this,s=(t.wrapCustomerLog(i),{legacy:{ctxUrlBuilderName:"",separatedFeatureName:"legacySfVars",appEndpoint:""},lightning:{ctxUrlBuilderName:"LightningSfVarsUrlBuilder",separatedFeatureName:"lightningSfVars",appEndpoint:"/apex/vf_WalkMeSfVars"},community:{ctxUrlBuilderName:"CommunitySfVarsUrlBuilder",separatedFeatureName:"communitiesSfVars",appEndpoint:"/apex/WM4SF3__vf_WalkMeSfVars"}});a.GENERAL_SF_VARS_FEATURE="sfVars",a.BASIC_SF_VARS_FEATURE="basicSfVars";function l(){}function u(){if(c())return"legacy";if(p())return"lightning";if(f())return"community"}a.getCurrentSfEnvironment=function(){if(o)return o;return o=u()},a.getAppEndpointByEnvironment=function(e){return s[e]&&s[e].appEndpoint},a.getUrlBuilderByEnvironment=function(e){var t=s[e]&&s[e].ctxUrlBuilderName;return r().get(t)},a.to18CharId=function(e){if(null==e||18==e.length)return e;if(e=e.replace(/\"/g,""),15!=e.length)return null;for(var t="",n=0;n<3;n++){for(var r=0,i=0;i<5;i++){var o=e.charAt(5*n+i);"A"<=o&&"Z">=o&&(r+=1<<i)}t=25>=r?t+"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r):t+"012345".charAt(r-26)}return e+t},a.handleNoSfVars=function(r,i,o){var a=d(),s=a?"sfVars failed to load (optional) - ":"sfVars failed to load (walkme removed) - ";t.error(void 0,s+r,o),a?i&&i():n.libSetTimeout(function(){e.removeWalkMe(r)},500)};function c(){var e=new RegExp(".*\\.salesforce\\.com.*"),t=new RegExp(".*\\.visual\\.force\\.com.*");return(e.test(window.location.hostname)||t.test(window.location.hostname))&&!p()}function p(){var e=new RegExp("/one/one\\.app.*");return e.test(window.location.pathname)}function f(){return!c()&&!p()&&window.UserContext}function d(){return!0}l.apply(null,arguments)}n.SfVarsUtils=o},{"wm-prelib-plugin-entry-manager":140}],156:[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=n:e.sfLightningInitContext=n}(this,function(e,t){if(e._walkmeInternals&&e._walkmeInternals.sfLightningInitUserContext)return e._walkmeInternals.sfLightningInitUserContext.result;var n=(t.get("PromiseManager"),t.get("EventsListener"),t.get("EventsTrigger"),t.get("PrelibLogger")),r=[];function i(){var n=null;return o()||(t.decorate("LibInitializer",function(e){return e.originalStartInitializer=e.startInitializer,e.startInitializer=function(){try{u()}catch(t){}e.originalStartInitializer.apply(e,arguments)},e}),n=s().then(function(e){a(e)})["catch"](function(e){if(e instanceof Error&&e.extraData)l(e.message,e.extraData);else{
var t="UserContext plugin internal error: "+e,n={sfUCCode:"Plugin.InternalError",sfUCError:""+e};l(t,n)}})),e._walkmeInternals&&(e._walkmeInternals.sfLightningInitUserContext={result:n}),n}function o(){return e.UserContext&&e.UserContext.userId&&e.UserContext.userName&&e.UserContext.vfDomainPattern}function a(t,n){try{var r="while(1);",i=t.indexOf(r);i>=0&&i<8?t=t.substr(i+r.length):l("UserContextServlet response does not start with while(1)",{sfUCCode:"UserContextServlet.NoSecurityPrefix",sfUCServletResponse:t}),o()||(e.UserContext=e.UserContext||{},wmjQuery.extend(e.UserContext,JSON.parse(t)),e.UserContext.initializeFromServlet=UserContext.initializeFromServlet||function(){},e.UserContext.getUrl=UserContext.getUrl||function(e){return e}),l("UserContext OK",{sfUCCode:"OK"})}catch(a){var s=new Error("Failed to parse UserContextServlet response");throw s.extraData={sfUCCode:"UserContextServlet.ParseResponseFailed",sfUCServletResponse:t},s}}function s(){return n.write("UserContext: none found in Lightning - requesting UserContextServlet..."),t.create("Promise",function(e,t){wmjQuery.ajax({type:"GET",url:"/_ui/system/context/UserContextServlet",dataType:"text",success:e,error:function(e){var n=new Error("Request to UserContextServlet failed.");n.extraData={sfUCCode:"UserContextServlet.RequestFailed",sfUCServletResponse:e.status},t(n)}})})}function l(e,t){r.push({message:e,extraData:t}),n.write(e)}function u(){for(var e=t.get("EventSenderErrorLogger"),n=c(),i=n&&n.UserGuids&&n.UserGuids[0],o=0;o<r.length;o++){var a=r[o];a.extraData?a.extraData.uId=i:a.extraData={uId:i},e.logError(a.message,a.extraData)}}function c(){return p("wmSnippet")||p("wmPlaySnippet")||p("wmPreviewSnippet")}function p(t){if(e[t]&&e[t].getSettingsFile)return e[t].getSettingsFile()}return i()})},{}],157:[function(e,t,n){t.exports={calculateXpath:i,xpathArrayToString:r};function r(e){for(var t=new Array(5*e.length),n=0;n<e.length;n++){var r=e[n];t.push("/"),t.push(r.tag),t.push("["),t.push(r.index),t.push("]")}var i=t.join("").toLowerCase();return i}function i(e,t){for(var n=e[0],r=t&&t[0],i=[];n&&1==n.nodeType&&n!=r;n=n.parentNode)i.push(o(n,n.parentNode));return i=i.reverse()}function o(e,t){var n=1;if("HTML"!=a(e))for(var r=t.childNodes,i=0;i<r.length&&r[i]!=e;i++)s(r[i],e)&&n++;return{tag:a(e),index:n}}function a(e){var t=e.tagName;return t.toUpperCase&&(t=t.toUpperCase()),t}function s(e,t){return e.tagName==t.tagName}},{}]},{},[4]);